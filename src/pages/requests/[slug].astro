---
import BaseLayout from "../../layouts/BaseLayout.astro";
import CategoryRequestsPage from "../../features/requests/CategoryRequestsPage";

// Generate static paths for all category pages
export function getStaticPaths() {
  const categories = [
    // Primary categories used across the requests UI
    "career",
    "design",
    "product",
    "business",
    "health",
    "education",
    "tech",
    "network",
    "other",
    // Legacy/alternate slugs from creation flow to keep links working
    "career-advice",
    "introduction",
    "resume-review",
    "interview-prep",
    "general-support",
  ];

  return categories.map((slug) => ({
    params: { slug },
  }));
}

const { slug } = Astro.params;
---

<BaseLayout
  title={`Requests | ${slug}`}
  description="Browse requests by category on the Trusted List."
  bodyClass="bg-background"
  showHeader={false}
  showFooter={false}
>
  <CategoryRequestsPage slug={slug ?? "other"} client:load slot="main" />
</BaseLayout>
