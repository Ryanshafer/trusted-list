import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i,R as L}from"./index.DMVOjPfi.js";import{C,c as E,B as k}from"./index.RFwVRHya.js";import{L as N,I as h}from"./label.CBhttR1o.js";import{m as o}from"./proxy.DHa0waEA.js";import{A as J}from"./index.CC9iHAyp.js";import{A as W}from"./arrow-right.LIAXjunz.js";import{L as $}from"./loader-circle.Baf9CbGe.js";import"./createLucideIcon.xD6jD0Ge.js";import"./index.D66uaMUf.js";import"./index.1ixxEbKp.js";const D=({name:m})=>e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 rounded-full bg-[#00A3AD]/10 px-4 py-2 text-sm font-bold text-[#00A3AD] mb-6",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#00A3AD] opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#00A3AD]"})]}),m," invited you to join The Trusted List"]}),M=()=>{const m={firstName:"",lastName:"",email:"",linkedin:""},j={firstName:"Jordan",lastName:"Rivera",email:"jordan.rivera@acme.com",linkedin:"https://linkedin.com/in/jordanrivera"},[t,f]=i.useState(null),[q,x]=i.useState(!0),[b,d]=i.useState(!1),[v,g]=i.useState(!1),[S,p]=i.useState(!1),[l,c]=i.useState(m),y=L.useRef(null);i.useEffect(()=>{const a=new URLSearchParams(window.location.search),s=a.get("ref"),n=a.get("first_name")||a.get("firstName"),r=a.get("last_name")||a.get("lastName"),w=a.get("name")||a.get("referrer_name");if(s&&(n||w)){const R=n||w?.split(" ")[0]||"",F=r||w?.split(" ").slice(1).join(" ")||"",A={firstName:R,lastName:F,id:s};y.current={referrer:A,formData:j},f(A),x(!1),d(!0),c(j)}},[]),i.useEffect(()=>{const a=s=>{const n=s?.detail?.preserveInvite,r=y.current;if(n&&r){f(r.referrer),x(!1),d(!0),p(!1),c(r.formData);return}f(null),x(!0),d(!0),p(!1),c(m)};return typeof window<"u"&&(window.addEventListener("open-waitlist",a),window.location.hash==="#waitlist"&&a()),()=>{typeof window<"u"&&window.removeEventListener("open-waitlist",a)}},[]);const I=async a=>{a.preventDefault(),g(!0),await new Promise(s=>setTimeout(s,1500)),console.log("Form submitted",{referrer:t,formData:l,timestamp:new Date().toISOString()}),g(!1),p(!0)},u=a=>s=>{c(n=>({...n,[a]:s.target.value}))};return S?e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center p-8 bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 text-center min-h-[400px]",children:[e.jsx("div",{className:"h-16 w-16 bg-[#00A3AD]/10 rounded-full flex items-center justify-center mb-6",children:e.jsx(C,{className:"h-8 w-8 text-[#00A3AD]"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Request Received"}),e.jsx("p",{className:"text-slate-500 max-w-xs mx-auto",children:"We’ll review your details and get back to you within a few days."})]}):e.jsx("div",{className:E("relative",!b&&"lg:mt-20"),id:"join-waitlist",children:e.jsx(o.div,{layout:!0,transition:{layout:{type:"spring",bounce:.2,duration:.6}},className:"bg-white/10 backdrop-blur-sm rounded-3xl shadow-2xl shadow-[#00A3AD]/10 border border-white/50 p-8 md:p-10 overflow-hidden",children:e.jsx(J,{mode:"popLayout",initial:!1,children:b?e.jsxs(o.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.4},className:"space-y-6 flex flex-col",children:[t&&e.jsx(D,{name:`${t.firstName} ${t.lastName}`.trim()}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t?`${t.firstName} vouched for you.`:"Join the waitlist"}),e.jsx("p",{className:"text-slate-500",children:t?"Your invitation is waiting — we just need to confirm a few details.":"We’ll let you know when your invitation is ready."})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"Full Name"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(h,{id:"firstName",required:!0,placeholder:"First name",className:"h-12 rounded-xl bg-white/50",value:l.firstName,onChange:u("firstName")}),e.jsx(h,{id:"lastName",required:!0,placeholder:"Last name",className:"h-12 rounded-xl bg-white/50",value:l.lastName,onChange:u("lastName")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",type:"email",required:!0,placeholder:"jane@company.com",className:"h-12 rounded-xl bg-white/50",value:l.email,onChange:u("email")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"linkedin",children:"LinkedIn URL"}),e.jsx(h,{id:"linkedin",required:!0,placeholder:"linkedin.com/in/janedoe",className:"h-12 rounded-xl bg-white/50",value:l.linkedin,onChange:u("linkedin")})]}),e.jsx(k,{type:"submit",disabled:v,className:"w-full h-12 text-base font-bold bg-[#00A3AD] hover:bg-[#008A92] text-white rounded-xl shadow-lg shadow-[#00A3AD]/25 mt-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):t?"Join the list":"Add my name"})]})]},"expanded"):e.jsxs(o.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex flex-col",children:[t&&e.jsx(D,{name:`${t.firstName} ${t.lastName}`.trim()}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t?`${t.firstName} vouched for you.`:"Don’t have an invite?"}),e.jsx("p",{className:"text-slate-500",children:t?"Your invitation is waiting — we just need to confirm `a few details.":e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"block",children:"If you know a member, ask them for an invite."}),e.jsx("span",{className:"mt-3 block",children:"We grow by invitation to protect trust. Join the waitlist and we’ll let you in when space opens up."})]})})]}),e.jsx(k,{type:"button",onClick:()=>d(!0),className:"w-full h-12 text-base font-bold bg-slate-900 hover:bg-slate-800 text-white rounded-xl",children:t?"Join the list":e.jsxs(e.Fragment,{children:["Join the waitlist ",e.jsx(W,{className:"ml-2 h-4 w-4"})]})})]},"collapsed")})})})};export{M as JoinForm};
