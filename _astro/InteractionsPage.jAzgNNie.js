import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as P,R as c}from"./index.DMVOjPfi.js";import{s as Ve,t as ve,R as Be,I as Ke,u as z,P as Ge,v as We,w as be,x as Ye,D as K,c as G,d as W,y as Ze,f as Je,z as Qe,C as je,l as Xe,m as Ne,o as es,A as de,a as ce,b as me,E as oe,e as I,r as ss,B as ts,F as as,g as rs,h as ns,i as os,j as is,H as ls,G as ds,U as cs}from"./dialog.CUf6qFoL.js";import{P as _,c as Y,a as ms,B as D,C as ie}from"./index.RFwVRHya.js";import{B as ee}from"./badge.BSnAKocT.js";import{S as us,A as ps,a as hs,b as xs,i as gs,j as fs,k as Ce,C as ue,F as vs,T as xe,c as bs,d as js,e as Ns,f as Cs,g as H,l as ys,m as ws,n as Ss,o as ks,p as Ds,q as qs}from"./HelpRequestCards.ClJKcsu2.js";import{m as Rs,i as ge,a as Ts,A as Ps,b as Ms}from"./AppShell.jDylNCko.js";import{L as se,I as As}from"./label.CBhttR1o.js";import{c as Z}from"./createLucideIcon.xD6jD0Ge.js";import{F as Is,L as Fs,a as $s}from"./list.DZ6O4E2q.js";import{M as le}from"./message-circle.CnIMz8R7.js";import{U as Es}from"./user.Bp0scIQj.js";import"./index.D66uaMUf.js";import"./index.1ixxEbKp.js";import"./index.DQ1KSHG5.js";import"./index.CC9iHAyp.js";import"./proxy.DHa0waEA.js";import"./carousel.DEML0uCz.js";import"./arrow-right.LIAXjunz.js";import"./loader-circle.Baf9CbGe.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Us=Z("hand",Ls);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=[["path",{d:"M11.636 6A13 13 0 0 0 19.4 3.2 1 1 0 0 1 21 4v11.344",key:"bycexp"}],["path",{d:"M14.378 14.357A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1",key:"1t17s6"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 8v6",key:"aieo6v"}]],te=Z("megaphone-off",Os);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ae=Z("megaphone",Hs);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],re=Z("square-pen",_s);var J="Tabs",[zs]=Ve(J,[ve]),ye=ve(),[Vs,pe]=zs(J),we=P.forwardRef((s,l)=>{const{__scopeTabs:n,value:d,onValueChange:i,defaultValue:a,orientation:u="horizontal",dir:v,activationMode:C="automatic",...m}=s,t=We(v),[f,b]=be({prop:d,onChange:i,defaultProp:a??"",caller:J});return e.jsx(Vs,{scope:n,baseId:Ye(),value:f,onValueChange:b,orientation:u,dir:t,activationMode:C,children:e.jsx(_.div,{dir:t,"data-orientation":u,...m,ref:l})})});we.displayName=J;var Se="TabsList",ke=P.forwardRef((s,l)=>{const{__scopeTabs:n,loop:d=!0,...i}=s,a=pe(Se,n),u=ye(n);return e.jsx(Be,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:d,children:e.jsx(_.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:l})})});ke.displayName=Se;var De="TabsTrigger",qe=P.forwardRef((s,l)=>{const{__scopeTabs:n,value:d,disabled:i=!1,...a}=s,u=pe(De,n),v=ye(n),C=Pe(u.baseId,d),m=Me(u.baseId,d),t=d===u.value;return e.jsx(Ke,{asChild:!0,...v,focusable:!i,active:t,children:e.jsx(_.button,{type:"button",role:"tab","aria-selected":t,"aria-controls":m,"data-state":t?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:C,...a,ref:l,onMouseDown:z(s.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?u.onValueChange(d):f.preventDefault()}),onKeyDown:z(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&u.onValueChange(d)}),onFocus:z(s.onFocus,()=>{const f=u.activationMode!=="manual";!t&&!i&&f&&u.onValueChange(d)})})})});qe.displayName=De;var Re="TabsContent",Te=P.forwardRef((s,l)=>{const{__scopeTabs:n,value:d,forceMount:i,children:a,...u}=s,v=pe(Re,n),C=Pe(v.baseId,d),m=Me(v.baseId,d),t=d===v.value,f=P.useRef(t);return P.useEffect(()=>{const b=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Ge,{present:i||t,children:({present:b})=>e.jsx(_.div,{"data-state":t?"active":"inactive","data-orientation":v.orientation,role:"tabpanel","aria-labelledby":C,hidden:!b,id:m,tabIndex:0,...u,ref:l,style:{...s.style,animationDuration:f.current?"0s":void 0},children:b&&a})})});Te.displayName=Re;function Pe(s,l){return`${s}-trigger-${l}`}function Me(s,l){return`${s}-content-${l}`}var Bs=we,Ae=ke,Ie=qe,Fe=Te;const Ks=Bs,$e=P.forwardRef(({className:s,...l},n)=>e.jsx(Ae,{ref:n,className:Y("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...l}));$e.displayName=Ae.displayName;const V=P.forwardRef(({className:s,...l},n)=>e.jsx(Ie,{ref:n,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...l}));V.displayName=Ie.displayName;const B=P.forwardRef(({className:s,...l},n)=>e.jsx(Fe,{ref:n,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l}));B.displayName=Fe.displayName;var Ee="Toggle",Le=P.forwardRef((s,l)=>{const{pressed:n,defaultPressed:d,onPressedChange:i,...a}=s,[u,v]=be({prop:n,onChange:i,defaultProp:d??!1,caller:Ee});return e.jsx(_.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":s.disabled?"":void 0,...a,ref:l,onClick:z(s.onClick,()=>{s.disabled||v(!u)})})});Le.displayName=Ee;var Ue=Le;const Gs=ms("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ws=P.forwardRef(({className:s,variant:l,size:n,...d},i)=>e.jsx(Ue,{ref:i,className:Y(Gs({variant:l,size:n,className:s})),...d}));Ws.displayName=Ue.displayName;const Oe=s=>{if(!s)return"No deadline";const l=new Date(s);return isNaN(l.getTime())?"No deadline":l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Ys=(s,l)=>{const n=s.trim(),d=l.trim();return n?`${n.replace(/[.!?]\s*$/,"")}. ${d}`:d},he=(s,l,n)=>{const d=s.startsWith("request-")||s.startsWith("req-"),i=Ms[s];return i||[{id:1,sender:d?"user":"contact",text:Ys(l,n)}]},He=({open:s,onOpenChange:l,card:n,onSave:d})=>{const[i,a]=c.useState(n.requestSummary||""),[u,v]=c.useState(n.request),[C,m]=c.useState("Career advice"),t=()=>{d({requestSummary:i,request:u}),l(!1)};return e.jsx(rs,{open:s,onOpenChange:l,children:e.jsxs(ns,{className:"max-w-xl",children:[e.jsx(os,{children:e.jsx(is,{children:"Edit Request"})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Short description"}),e.jsx(As,{value:i,onChange:f=>a(f.target.value),maxLength:32,placeholder:"e.g. Introduction to CTO needed"}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[i.length,"/32"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Category"}),e.jsxs(bs,{value:C,onValueChange:m,children:[e.jsx(js,{children:e.jsx(Ns,{placeholder:"Select category"})}),e.jsxs(Cs,{children:[e.jsx(H,{value:"Career advice",children:"Career advice"}),e.jsx(H,{value:"Introduction",children:"Introduction"}),e.jsx(H,{value:"Feedback",children:"Feedback"}),e.jsx(H,{value:"Hiring",children:"Hiring"}),e.jsx(H,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Details"}),e.jsx(ys,{value:u,onChange:f=>v(f.target.value),rows:4,placeholder:"Describe what you need help with..."})]})]}),e.jsxs(ls,{children:[e.jsx(D,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(D,{onClick:t,children:"Save Changes"})]})]})})},Zs=({response:s,requestSummary:l,requestDetails:n})=>{const[d,i]=c.useState(!1),[a,u]=c.useState(()=>he(s.chatId,l,n)),[v,C]=c.useState(""),[m,t]=c.useState(s.status),f=N=>{const p=N.trim();p&&(u(A=>[...A,{id:Date.now(),sender:"user",text:p}]),C(""))},b=N=>{u(p=>[...p,{id:Date.now(),sender:"system",text:"Request Completed",type:"system"},{id:Date.now()+1,sender:"user",text:`+50 Karma • ${N.note||"Thank you!"}`,type:"karma"}]),t("Completed")},q=()=>{u(N=>{const p=[...N];return p.length>0&&p[p.length-1].type==="karma"&&p.pop(),p.length>0&&p[p.length-1].type==="system"&&p.pop(),p}),t("In Progress")},y=s.name.split(" ").map(N=>N[0]).join("").slice(0,2).toUpperCase();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-muted/50 p-3 transition-colors hover:bg-muted/70 cursor-pointer",onClick:()=>i(!0),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(de,{className:"h-8 w-8",children:[s.avatarUrl?e.jsx(ce,{src:s.avatarUrl,alt:s.name,className:"object-cover"}):null,e.jsx(me,{children:y})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:s.name}),m==="Completed"&&e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Completed"})]})]}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(ue,{open:d,onOpenChange:i,contactName:s.name,messages:a,composer:v,onComposerChange:C,onSend:f,isHelpRequest:!0,isCompleted:m==="Completed",onComplete:b,onUndoComplete:q})]})},Js=({response:s,requestSummary:l,requestDetails:n})=>{const[d,i]=c.useState(!1),[a,u]=c.useState(()=>he(s.chatId,l,n)),[v,C]=c.useState(""),[m,t]=c.useState(s.status),f=N=>{const p=N.trim();p&&(u(A=>[...A,{id:Date.now(),sender:"user",text:p}]),C(""))},b=N=>{u(p=>[...p,{id:Date.now(),sender:"system",text:"Request Completed",type:"system"},{id:Date.now()+1,sender:"user",text:`+50 Karma • ${N.note||"Thank you!"}`,type:"karma"}]),t("Completed")},q=()=>{u(N=>{const p=[...N];return p.length>0&&p[p.length-1].type==="karma"&&p.pop(),p.length>0&&p[p.length-1].type==="system"&&p.pop(),p}),t("In Progress")},y=s.name.split(" ").map(N=>N[0]).join("").slice(0,2).toUpperCase();return e.jsxs(e.Fragment,{children:[e.jsx(ws,{children:e.jsxs(Ss,{children:[e.jsx(ks,{asChild:!0,children:e.jsxs("div",{className:"relative cursor-pointer transition-transform hover:scale-105 hover:z-10 group/avatar",onClick:N=>{N.stopPropagation(),i(!0)},children:[e.jsxs(de,{className:"h-8 w-8 border-2 border-background ring-1 ring-border/10",children:[s.avatarUrl?e.jsx(ce,{src:s.avatarUrl,alt:s.name,className:"object-cover"}):null,e.jsx(me,{children:y})]}),m==="Completed"&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-emerald-500 rounded-full p-[1px] border-2 border-background text-white shadow-sm",children:e.jsx(ie,{className:"h-2 w-2 stroke-[3]"})})]})}),e.jsxs(Ds,{children:[e.jsxs("p",{children:["Chat with ",s.name]}),e.jsx(qs,{className:"fill-primary",width:10,height:5})]})]})}),e.jsx(ue,{open:d,onOpenChange:i,contactName:s.name,messages:a,composer:v,onComposerChange:C,onSend:f,isHelpRequest:!0,isCompleted:m==="Completed",onComplete:b,onUndoComplete:q})]})},Qs=({request:s,hideUnpromoted:l=!1,onDelete:n,onUpdate:d,layout:i="grid"})=>{const[a,u]=c.useState(s),[v,C]=c.useState(!1),[m,t]=c.useState(s.promoted??!0),[f,b]=c.useState(!1),[q,y]=c.useState(!1),[N,p]=c.useState(!1);c.useEffect(()=>{u(s),t(s.promoted??!0)},[s]);const A=g=>{const M={...a,requestSummary:g.requestSummary||a.requestSummary,request:g.request||a.request};u(M),d?.(M)},$=()=>{const g={...a,status:"Closed",promoted:!1};u(g),t(!1),d?.(g)},F=g=>{g.stopPropagation();const M=!m;t(M),d?.({...a,promoted:M})},L={id:a.id,variant:"circle",name:"",request:a.request,requestSummary:a.requestSummary,relationshipTag:"",primaryCTA:""},T=Ce(a.endDate),U=Oe(a.endDate),o=(g=>{switch(g){case"contact":return{label:"Contact",icon:Es};case"circle":return{label:"Circle",icon:cs};case"list":return{label:"List",icon:ds}}})(a.type),x=o.icon,h=["circle","list"].includes(a.type)&&a.status!=="Closed";if(l&&!m&&h)return null;const w=a.status==="Closed"||a.type==="contact"&&a.responses.some(g=>g.status==="Completed"),k=!w&&(!h||!m);let R="Active",E="bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";w?(R="Completed",E="bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"):h&&!m&&(R="Paused",E="bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400");const Q=e.jsxs("div",{className:`hidden lg:grid grid-cols-12 gap-4 px-6 py-4 text-sm ${N?"items-start":"items-center"}`,children:[e.jsxs("div",{className:"col-span-4 min-w-0 pr-6",children:[e.jsx("div",{className:`font-semibold ${N?"whitespace-normal":"truncate"}`,children:a.requestSummary}),e.jsx("div",{className:"text-xs text-muted-foreground",children:N?e.jsxs(e.Fragment,{children:[a.request,e.jsx("span",{className:"text-primary hover:underline ml-1 cursor-pointer font-medium",onClick:g=>{g.stopPropagation(),p(!1)},children:"less"})]}):e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"truncate",children:a.request}),a.request.length>60&&e.jsx("span",{className:"text-primary hover:underline ml-1 cursor-pointer font-medium whitespace-nowrap",onClick:g=>{g.stopPropagation(),p(!0)},children:"more"})]})})]}),e.jsx("div",{className:"col-span-1 flex items-center min-w-0",children:e.jsx("span",{className:"font-medium text-muted-foreground truncate",children:o.label})}),e.jsx("div",{className:"col-span-1 text-xs text-muted-foreground min-w-0",children:e.jsx("div",{className:"flex items-center gap-1.5 truncate",children:e.jsx("span",{children:U})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(ee,{variant:"secondary",className:`text-[10px] h-5 px-1.5 font-normal ${E}`,children:R})}),e.jsxs("div",{className:`col-span-3 flex pl-2 justify-start ${q?"flex-wrap gap-1 space-x-0":"-space-x-2 overflow-hidden"}`,children:[(q?a.responses:a.responses.slice(0,7)).map(g=>e.jsx(Js,{response:g,requestSummary:a.requestSummary,requestDetails:a.request},g.id)),!q&&a.responses.length>7&&e.jsxs("button",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-muted text-[10px] font-medium border-2 border-background ring-2 ring-background hover:bg-muted/80 transition-colors z-10",onClick:g=>{g.stopPropagation(),y(!0)},children:["+",a.responses.length-7]}),q&&a.responses.length>7&&e.jsx("button",{className:"text-[10px] text-primary hover:underline ml-2 self-center font-medium",onClick:g=>{g.stopPropagation(),y(!1)},children:"Show less"}),a.responses.length===0&&e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted/30 border-2 border-dashed border-muted-foreground/30"})]}),e.jsxs("div",{className:"col-span-2 flex justify-end items-center gap-1",children:[h?e.jsx(D,{variant:m?"outline":"secondary",size:"sm",className:`w-auto px-3 h-8 text-xs font-semibold gap-1.5 border shadow-sm ${m?"hover:bg-accent hover:text-accent-foreground":"text-amber-700 bg-amber-50 hover:bg-amber-100 border-amber-200"}`,onClick:F,children:m?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-3.5 w-3.5"})," Stop Promotion"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-3.5 w-3.5"})," Resume Promotion"]})}):e.jsx("span",{className:"w-auto"}),e.jsxs(K,{children:[e.jsx(G,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground shrink-0",onClick:g=>g.stopPropagation(),children:e.jsx(oe,{className:"h-4 w-4"})})}),e.jsxs(W,{align:"end",children:[e.jsxs(I,{onClick:()=>C(!0),disabled:!k,children:[e.jsx(re,{className:"mr-2 h-4 w-4"})," Edit Request"]}),!w&&e.jsxs(I,{onClick:$,children:[e.jsx(ie,{className:"mr-2 h-4 w-4"})," Complete request"]}),e.jsxs(I,{className:"text-destructive",onClick:()=>{b(!0),setTimeout(()=>n?.(a.id),180)},children:[e.jsx(xe,{className:"mr-2 h-4 w-4"})," Delete Request"]})]})]})]})]});return e.jsxs("div",{className:`transition-all duration-200 ease-in-out relative h-full ${f?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"} ${i==="list"?"lg:border-b lg:border-border/50 lg:last:border-0":""}`,children:[e.jsx("div",{className:i==="list"?"lg:hidden h-full":"h-full",children:e.jsx(je,{className:"relative flex h-full flex-col rounded-3xl border border-border bg-card shadow-sm",children:e.jsxs(Ne,{className:"flex flex-1 flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground",children:[e.jsx(x,{className:"h-3.5 w-3.5"}),o.label]}),!m&&h&&e.jsx(ee,{variant:"secondary",className:"h-5 px-1.5 text-[10px] font-normal bg-amber-100 text-amber-700 hover:bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400",children:"Promotion Stopped"}),w&&e.jsx(ee,{variant:"secondary",className:"h-5 px-1.5 text-[10px] font-normal bg-blue-100 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:"Completed"})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"pr-8",children:[e.jsx("h3",{className:"text-lg font-semibold leading-tight",children:a.requestSummary}),T&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T})]}),e.jsxs(K,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(D,{variant:"ghost",size:"icon",className:"h-8 w-8 -mr-2 -mt-2 rounded-full text-muted-foreground hover:text-foreground",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More options"})]})}),e.jsxs(W,{align:"end",children:[e.jsxs(I,{onClick:()=>C(!0),disabled:!k,children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Edit request"]}),!w&&e.jsxs(I,{onClick:$,children:[e.jsx(ie,{className:"mr-2 h-4 w-4"})," Complete request"]}),e.jsxs(I,{className:"text-destructive focus:text-destructive",onClick:()=>{b(!0),setTimeout(()=>n?.(a.id),180)},children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Delete request"]})]})]})]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.request}),e.jsx("div",{className:"mt-auto pt-2",children:a.responses.length===0?e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(D,{variant:"outline",className:"flex-1 gap-2 border-dashed text-sm",onClick:()=>C(!0),disabled:!k,children:[e.jsx(re,{className:"h-4 w-4"}),"Edit Request"]}),h&&e.jsx(D,{variant:m?"outline":"ghost",className:`flex-1 gap-2 text-sm ${m?"text-muted-foreground hover:text-foreground":"text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/20"}`,onClick:()=>t(!m),children:m?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-4 w-4"}),"Stop promotion"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4"}),"Resume promotion"]})})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Responses"}),(q?a.responses:a.responses.slice(0,2)).map(g=>e.jsx(Zs,{response:g,requestSummary:a.requestSummary,requestDetails:a.request},g.id)),a.responses.length>2&&e.jsx(D,{variant:"ghost",size:"sm",className:"w-full text-sm text-primary",onClick:()=>y(g=>!g),children:q?"See fewer responses":`See ${a.responses.length-2} more responses`}),h&&e.jsx(D,{variant:m?"outline":"ghost",size:"sm",className:`w-full gap-2 mt-2 text-sm ${m?"text-muted-foreground hover:text-foreground":"text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/20"}`,onClick:()=>t(!m),children:m?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-3.5 w-3.5"}),"Stop promotion"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-3.5 w-3.5"}),"Resume promotion"]})})]})})]})})}),i==="list"&&Q,e.jsx(He,{open:v,onOpenChange:C,card:L,onSave:A})]})},fe=({card:s,layout:l="grid",onDismiss:n,onFlagged:d,menuContext:i="in-progress"})=>{const a=c.useRef(null),[u,v]=c.useState({top:88}),[C,m]=c.useState(s.status),[t,f]=c.useState(s),[b,q]=c.useState(!1),[y,N]=c.useState(!1),[p,A]=c.useState(!1),[$,F]=c.useState(!1),[L,T]=c.useState(!1),[U,r]=c.useState(()=>he(s.id,s.requestSummary||"",s.request)),[o,x]=c.useState(""),h=j=>{const S=j.trim();S&&(r(X=>[...X,{id:Date.now(),sender:"user",text:S}]),x(""))},w=j=>{r(S=>[...S,{id:Date.now(),sender:"system",text:"Request Completed",type:"system"},{id:Date.now()+1,sender:"user",text:`+50 Karma • ${j.note||"Thank you!"}`,type:"karma"}]),m("Completed")},k=()=>{r(j=>{const S=[...j];return S.length>0&&S[S.length-1].type==="karma"&&S.pop(),S.length>0&&S[S.length-1].type==="system"&&S.pop(),S}),m("In Progress")},R=j=>{f(S=>({...S,...j}))},E=j=>{j?.stopPropagation(),!p&&(A(!0),window.setTimeout(()=>{n?.(s.id)},250))};c.useEffect(()=>{if(!a.current)return;const j=a.current.querySelector(".group.relative.cursor-pointer");if(j){const S=j.getBoundingClientRect(),X=a.current.getBoundingClientRect(),ze=S.top-X.top;v({top:ze-8})}},[]);const Q=s.id.startsWith("request-"),g=C==="Completed";let M="through-contact",O="Connected";t.variant==="circle"?(M="direct",O="Directly Connected"):t.variant==="network"?(M="through-contact",O=t.connectedBy?`Connected by ${t.connectedBy}`:"Connected by your network"):t.variant==="opportunities"&&(M="skills-match",O=t.relationshipTag||"Skill-aligned opportunity");const _e=t.name.split(" ").map(j=>j[0]).join("").slice(0,2).toUpperCase();return e.jsxs("div",{ref:a,className:`relative h-full transition-all duration-300 ease-in-out ${p?"translate-y-2 scale-[0.98] opacity-0 pointer-events-none":"opacity-100"} ${l==="list"?"lg:border-b lg:border-border/50 lg:last:border-0":""}`,children:[e.jsx("div",{className:l==="list"?"lg:hidden h-full":"h-full",children:e.jsxs(je,{className:"relative flex h-full flex-col rounded-3xl border border-border bg-card shadow-sm",children:[e.jsx(Xe,{className:"p-0 px-5",children:e.jsx(fs,{name:t.name,avatarUrl:t.avatarUrl,relationshipType:M,relationshipLabel:O,onDismiss:n?()=>E():void 0,onFlag:()=>F(!0)})}),e.jsx(Ne,{className:"flex flex-1 flex-col gap-2 p-5 pt-0",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[e.jsxs("div",{className:"bg-muted/40 p-4 rounded-md cursor-pointer hover:bg-muted/60 transition-colors group/bubble relative mt-2 space-y-1.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",onClick:()=>T(!0),role:"button",tabIndex:0,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),T(!0))},children:[t.requestSummary?e.jsx("p",{className:"font-bold text-foreground leading-relaxed mb-0.5",children:t.requestSummary}):null,e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground py-0.5",children:[e.jsx(es,{className:"w-3 h-3"}),e.jsx("span",{children:Ce(t.endDate)})]}),e.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:t.request.length>80?e.jsxs(e.Fragment,{children:[t.request.slice(0,80).trim(),e.jsx("span",{className:"text-muted-foreground",children:"... "}),e.jsx("span",{className:"text-muted-foreground font-medium",children:"more"})]}):t.request}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-background/60 backdrop-blur-[1px] opacity-0 transition-opacity duration-200 group-hover/bubble:opacity-100",children:e.jsx("div",{className:"inline-flex h-8 items-center justify-center rounded-full bg-primary px-4 text-xs font-medium text-primary-foreground shadow-sm",children:"Read details"})})]}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"mt-3 flex",children:e.jsxs(D,{variant:"outline",className:"w-full gap-1 font-semibold border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:()=>T(!0),children:[e.jsx(le,{className:"mr-1 h-4 w-4"}),g?"Read chat history":"Chat"]})})]})})]})}),l==="list"&&e.jsxs("div",{className:`hidden lg:grid grid-cols-12 gap-4 px-6 py-4 text-sm ${y?"items-start":"items-center"}`,children:[e.jsxs("div",{className:"col-span-3 flex items-center gap-3 min-w-0",children:[e.jsxs(de,{className:"h-9 w-9 border shrink-0",children:[t.avatarUrl?e.jsx(ce,{src:t.avatarUrl}):null,e.jsx(me,{children:_e})]}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-medium truncate leading-tight",children:t.name}),e.jsx("span",{className:"text-[11px] text-muted-foreground truncate leading-tight",children:O})]})]}),e.jsxs("div",{className:"col-span-5 min-w-0 pr-6",children:[e.jsx("div",{className:`font-semibold leading-tight mb-0.5 group-hover:text-primary transition-colors ${y?"whitespace-normal":"truncate"}`,children:t.requestSummary}),e.jsx("div",{className:"text-xs text-muted-foreground",children:y?e.jsxs(e.Fragment,{children:[t.request,e.jsx("span",{className:"text-primary hover:underline ml-1 cursor-pointer font-medium",onClick:j=>{j.stopPropagation(),N(!1)},children:"less"})]}):e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"truncate",children:t.request}),t.request.length>60&&e.jsx("span",{className:"text-primary hover:underline ml-1 cursor-pointer font-medium whitespace-nowrap",onClick:j=>{j.stopPropagation(),N(!0)},children:"more"})]})})]}),e.jsx("div",{className:"col-span-2 text-xs text-muted-foreground flex items-center gap-1.5 min-w-0",children:Oe(t.endDate)}),e.jsxs("div",{className:"col-span-2 flex justify-end items-center gap-1",children:[e.jsxs(D,{variant:"outline",size:"sm",className:"w-auto px-3 h-8 text-xs font-semibold gap-1.5 border shadow-sm hover:bg-accent hover:text-accent-foreground",onClick:j=>{j.stopPropagation(),T(!0)},children:[e.jsx(le,{className:"h-3.5 w-3.5"}),g?"Read chat history":"Chat"]}),e.jsxs(K,{children:[e.jsx(G,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground shrink-0",onClick:j=>j.stopPropagation(),children:e.jsx(oe,{className:"h-4 w-4"})})}),e.jsxs(W,{align:"end",children:[i!=="helped"&&n?e.jsxs(I,{onClick:E,children:[e.jsx(ss,{className:"mr-2 h-4 w-4"}),"I can't help with this request"]}):null,i!=="helped"?e.jsxs(I,{children:[e.jsx(ts,{className:"mr-2 h-4 w-4"})," Set Reminder"]}):null,e.jsxs(I,{className:"text-destructive focus:text-destructive",onClick:j=>{j.stopPropagation(),F(!0)},children:[e.jsx(as,{className:"mr-2 h-4 w-4"}),"Flag as inappropriate"]})]})]})]})]}),e.jsx(ue,{open:L,onOpenChange:T,contactName:t.name,messages:U,composer:o,onComposerChange:x,onSend:h,isHelpRequest:Q,isCompleted:g,onComplete:w,onUndoComplete:k}),e.jsx(vs,{open:$,onOpenChange:F,requestorName:t.name,requestorAvatarUrl:t.avatarUrl||void 0,requestSummary:t.requestSummary,requestText:t.request,onSubmit:()=>d?.(s.id)}),e.jsx(He,{open:b,onOpenChange:q,card:t,onSave:R})]})},ne=({layout:s,onLayoutChange:l,filters:n={},onFilterChange:d,availableFilters:i={},onResetFilters:a,showFilter:u=!0,projection:v,primaryAction:C})=>{const m=Object.values(n).some(Boolean);return e.jsx("section",{className:"mb-6 flex flex-col gap-4 rounded-xl border border-border/50 bg-muted/30 p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsxs("div",{className:`flex items-center gap-3 rounded-lg border px-3 py-2 shadow-sm ${v.tone==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900 dark:border-emerald-900/50 dark:bg-emerald-900/20 dark:text-emerald-100":"border-primary/30 bg-primary/10 text-primary"}`,children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/70 dark:bg-white/10",children:e.jsx(gs,{className:"h-4 w-4"})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide",children:v.label}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-bold leading-tight",children:v.value}),v.sublabel&&e.jsx("span",{className:"text-[11px] text-muted-foreground leading-tight",children:v.sublabel})]})]})]}),C]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u&&d&&e.jsxs(K,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(D,{variant:m?"secondary":"outline",size:"sm",className:`h-9 gap-2 ${m?"bg-primary text-primary-foreground border-primary hover:bg-primary/90":"bg-background"}`,children:[e.jsx(Is,{className:"h-4 w-4"}),"Filter"]})}),e.jsxs(W,{align:"end",className:"w-56",children:[e.jsxs(Ze,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Hide requests"}),m&&a&&e.jsx("span",{className:"text-xs font-normal text-muted-foreground hover:text-primary cursor-pointer px-1",onClick:t=>{t.preventDefault(),a()},children:"Reset"})]}),e.jsx(Je,{}),Object.entries(n).map(([t,f])=>{let b=t.replace(/([A-Z])/g," $1").replace(/^./,y=>y.toUpperCase());t==="hideUnpromoted"&&(b="Unpromoted"),t==="hideActive"&&(b="Active"),t==="hideCompleted"&&(b="Completed"),t==="hidePaused"&&(b="Paused"),t==="hideContact"&&(b="Contact"),t==="hideCircle"&&(b="Circle"),t==="hideList"&&(b="List");const q=!f&&!i[t];return e.jsx(Qe,{checked:f,onCheckedChange:y=>d(t,y),disabled:q,children:b},t)})]})]}),e.jsxs(D,{variant:s==="grid"?"secondary":"ghost",size:"icon",className:"h-9 w-9",onClick:()=>l("grid"),children:[e.jsx(Fs,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Grid view"})]}),e.jsxs(D,{variant:s==="list"?"secondary":"ghost",size:"icon",className:"h-9 w-9",onClick:()=>l("list"),children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"List view"})]})]})]})})},Xs=["helped","in-progress","my-requests"];function jt(){const[s,l]=c.useState("in-progress"),[n,d]=c.useState("grid");c.useEffect(()=>{s==="in-progress"?d("grid"):(s==="helped"||s==="my-requests")&&d("list")},[s]);const[i,a]=c.useState({hideCompleted:!1,hideUnpromoted:!1,hideActive:!1,hideContact:!1,hideCircle:!1,hideList:!1}),u=(r,o)=>{a(x=>({...x,[r]:o}))},v=()=>{a({hideCompleted:!1,hideUnpromoted:!1,hideActive:!1,hideContact:!1,hideCircle:!1,hideList:!1})},[C,m]=c.useState(!1),[t,f]=c.useState(Rs),[b,q]=c.useState(ge.helped),[y,N]=c.useState(ge.inProgress),p=b[0]?.karma??50,A=b.reduce((r,o)=>r+(o.karma??p),0),$=y.length*p;c.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("tab"),x=localStorage.getItem("interactions-active-tab"),h=o||x;h&&Xs.includes(h)&&l(h),x&&localStorage.removeItem("interactions-active-tab")},[]);const F=c.useMemo(()=>Ts.askForHelpCard.contacts,[]),L=c.useCallback(r=>{const o=`request-${Date.now()}`,x=r.askMode==="contact"?r.selectedContacts.map((k,R)=>({id:`${o}-resp-${R}`,name:k.name,status:"In Progress",chatId:`${o}-chat-${R}`})):[],h={id:o,requestSummary:r.shortDescription,request:r.requestDetails,responses:x,status:"Open",type:r.askMode,createdAt:new Date().toISOString(),promoted:r.askMode!=="contact",endDate:r.endDateEnabled&&r.endDate?r.endDate.toISOString():void 0};f(k=>[h,...k]),l("my-requests");const w=new URLSearchParams(window.location.search);w.set("tab","my-requests"),window.history.replaceState(null,"",`?${w.toString()}`)},[]),T=c.useMemo(()=>t.filter(r=>{const o=r.status==="Closed"||r.type==="contact"&&r.responses.some(k=>k.status==="Completed"),x=["circle","list"].includes(r.type)&&r.status!=="Closed",h=x&&r.promoted===!1,w=x&&(r.promoted??!0);return!(i.hideCompleted&&o||i.hideUnpromoted&&h||i.hideActive&&w||i.hideContact&&r.type==="contact"||i.hideCircle&&r.type==="circle"||i.hideList&&r.type==="list")}).sort((r,o)=>{const x=r.status==="Closed"||r.type==="contact"&&r.responses.some(R=>R.status==="Completed"),h=o.status==="Closed"||o.type==="contact"&&o.responses.some(R=>R.status==="Completed");if(x&&!h)return 1;if(!x&&h)return-1;const w=!!r.endDate,k=!!o.endDate;return w&&!k?-1:!w&&k?1:w&&k?new Date(r.endDate).getTime()-new Date(o.endDate).getTime():0}),[t,i]),U=c.useMemo(()=>{const r={hideCompleted:!1,hideUnpromoted:!1,hideActive:!1,hideContact:!1,hideCircle:!1,hideList:!1};return T.forEach(o=>{const x=o.status==="Closed"||o.type==="contact"&&o.responses.some(R=>R.status==="Completed"),h=["circle","list"].includes(o.type)&&o.status!=="Closed",w=h&&o.promoted===!1,k=h&&(o.promoted??!0);x&&(r.hideCompleted=!0),w&&(r.hideUnpromoted=!0),k&&(r.hideActive=!0),o.type==="contact"&&(r.hideContact=!0),o.type==="circle"&&(r.hideCircle=!0),o.type==="list"&&(r.hideList=!0)}),r},[T]);return e.jsx(us,{children:e.jsxs("div",{className:"flex min-h-screen bg-background w-full",children:[e.jsx(ps,{}),e.jsxs(hs,{className:"flex min-h-screen w-full flex-1 flex-col overflow-x-hidden",children:[e.jsx("div",{className:"flex items-center gap-3 border-b bg-background px-4 py-3 lg:hidden",children:e.jsx(xs,{className:"border border-border"})}),e.jsx("div",{className:"flex-1 px-4 py-8 sm:px-6 lg:px-10",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl",children:[e.jsx("header",{className:"mb-8 space-y-3",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight sm:text-4xl",children:"Your Help Activity"}),e.jsx("p",{className:"text-muted-foreground",children:"All the ways you help — and get help — in one place."})]})})}),e.jsxs(Ks,{value:s,onValueChange:r=>l(r),className:"w-full",children:[e.jsxs($e,{className:"grid w-full grid-cols-3 rounded-xl bg-muted/50 p-1",children:[e.jsx(V,{value:"in-progress",className:"rounded-lg data-[state=active]:bg-white/70",children:"In Progress"}),e.jsx(V,{value:"helped",className:"rounded-lg data-[state=active]:bg-white/70",children:"Helped"}),e.jsx(V,{value:"my-requests",className:"rounded-lg data-[state=active]:bg-white/70",children:"My Requests"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs(B,{value:"helped",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(ne,{layout:n,onLayoutChange:d,showFilter:!1,projection:{label:"Karma earned",value:`+${A}`,sublabel:"From people you helped",tone:"success"}}),n==="list"&&e.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-4 px-6 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[e.jsx("div",{className:"col-span-3",children:"Requestor"}),e.jsx("div",{className:"col-span-5",children:"Request"}),e.jsx("div",{className:"col-span-2",children:"End Date"}),e.jsx("div",{className:"col-span-2 text-right pr-2",children:"Action"})]}),e.jsx("div",{className:n==="grid"?"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3":"flex flex-col gap-4 lg:gap-0 lg:border lg:rounded-xl lg:bg-muted/10 lg:overflow-hidden lg:shadow-sm",children:b.filter(r=>!i.hideCompleted||r.status!=="Completed").sort((r,o)=>!r.endDate&&!o.endDate?0:r.endDate?o.endDate?new Date(o.endDate).getTime()-new Date(r.endDate).getTime():-1:1).map(r=>e.jsx(fe,{card:r,layout:n,menuContext:"helped",onFlagged:o=>q(x=>x.filter(h=>h.id!==o))},r.id))})]}),e.jsxs(B,{value:"in-progress",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(ne,{layout:n,onLayoutChange:d,showFilter:!1,projection:{label:"Projected karma",value:`+${$}`,sublabel:"If everything completes",tone:"info"}}),n==="list"&&e.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-4 px-6 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[e.jsx("div",{className:"col-span-3",children:"Requestor"}),e.jsx("div",{className:"col-span-5",children:"Request"}),e.jsx("div",{className:"col-span-2",children:"End Date"}),e.jsx("div",{className:"col-span-2 text-right pr-2",children:"Action"})]}),e.jsxs("div",{className:n==="grid"?"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3":"flex flex-col gap-4 lg:gap-0 lg:border lg:rounded-xl lg:bg-muted/10 lg:overflow-hidden lg:shadow-sm",children:[y.filter(r=>!i.hideCompleted||r.status!=="Completed").sort((r,o)=>{const x=!!r.endDate,h=!!o.endDate;return x&&!h?-1:!x&&h?1:x&&h?new Date(r.endDate).getTime()-new Date(o.endDate).getTime():0}).map(r=>e.jsx(fe,{card:r,layout:n,menuContext:"in-progress",onDismiss:o=>N(x=>x.filter(h=>h.id!==o)),onFlagged:o=>N(x=>x.filter(h=>h.id!==o))},r.id)),y.filter(r=>!i.hideCompleted||r.status!=="Completed").length===0&&e.jsx("div",{className:`flex h-full min-h-[380px] w-full items-center justify-center rounded-3xl border border-primary/30 bg-primary/10 p-8 text-center ${n==="grid"?"md:col-span-2 lg:col-span-3":""}`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 max-w-md",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold text-primary",children:"Community spotlight"}),e.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Looking for people to help?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse every open request across the Trusted List and jump into the ones that fit you best."})]}),e.jsx("div",{className:"mt-2",children:e.jsx(D,{asChild:!0,children:e.jsx("a",{href:"/trusted-list/requests",children:"Explore all open requests"})})})]})})]})]}),e.jsxs(B,{value:"my-requests",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(ne,{layout:n,onLayoutChange:d,filters:i,onFilterChange:u,availableFilters:U,onResetFilters:v,primaryAction:e.jsxs(D,{onClick:()=>m(!0),children:[e.jsx(Us,{className:"mr-2 h-4 w-4"}),"Ask for help"]})}),n==="list"&&e.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-4 px-6 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:[e.jsx("div",{className:"col-span-4",children:"Request"}),e.jsx("div",{className:"col-span-1",children:"Connection"}),e.jsx("div",{className:"col-span-1",children:"End Date"}),e.jsx("div",{className:"col-span-1",children:"Status"}),e.jsx("div",{className:"col-span-3",children:"Responses"}),e.jsx("div",{className:"col-span-2 text-right pr-2",children:"Action"})]}),e.jsx("div",{className:n==="grid"?"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3":"flex flex-col gap-4 lg:gap-0 lg:border lg:rounded-xl lg:bg-muted/10 lg:overflow-hidden lg:shadow-sm",children:T.map(r=>e.jsx(Qs,{request:r,hideUnpromoted:i.hideUnpromoted,onDelete:o=>f(x=>x.filter(h=>h.id!==o)),onUpdate:o=>f(x=>x.map(h=>h.id===o.id?o:h)),layout:n},r.id))})]})]})]})]})}),e.jsx(Ps,{open:C,onOpenChange:m,contacts:F,onSendRequest:L})]})]})})}export{jt as default};
