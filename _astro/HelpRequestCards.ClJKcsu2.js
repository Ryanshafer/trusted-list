import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.DMVOjPfi.js";import{I as mr,L as be}from"./label.CBhttR1o.js";import{c as N,a as Ct,P,u as L,B as A,S as nt,C as Nt,d as xr}from"./index.RFwVRHya.js";import{O as St,J as gr,K as kt,L as br,X as ot,T as Tt,M as _t,N as vr,s as Me,P as at,Q as Rt,S as Ae,V as Et,W as It,x as De,w as ve,Y as Pt,Z as Mt,u as _,_ as At,D as it,c as lt,E as Ye,d as ct,e as Q,f as Te,A as ye,a as we,b as je,y as yr,$ as yt,U as dt,a0 as Dt,g as Ce,h as Ne,i as _e,j as Re,a1 as wr,a2 as se,a3 as jr,a4 as Cr,a5 as Nr,a6 as Sr,a7 as kr,v as Tr,k as Ot,H as Xe,G as Lt,r as _r,F as Rr,C as Ht,l as Er,m as $t,o as Bt,n as Ir,q as Pr,B as Ft}from"./dialog.CUf6qFoL.js";import{c as I}from"./createLucideIcon.xD6jD0Ge.js";import{r as Vt}from"./index.D66uaMUf.js";import{t as Mr}from"./index.DQ1KSHG5.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Dr=I("arrow-up",Ar);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lr=I("bell",Or);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zt=I("chevron-down",Hr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Br=I("chevron-up",$r);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Vr=I("chevrons-up-down",Fr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ur=I("folder",zr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]],qr=I("forward",Wr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ut=I("link-2",Kr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Yr=I("list-checks",Gr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zr=I("log-out",Xr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Jr=I("moon",Qr);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],tn=I("panel-left",en);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rn=I("plus",sn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],on=I("search",nn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ln=I("settings",an);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Wt=I("sparkles",cn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],un=I("square-terminal",dn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hn=I("star",pn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],mn=I("sun",fn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gn=I("trash-2",xn);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vn=I("user-check",bn),Ge=768;function yn(){const[t,r]=a.useState(void 0);return a.useEffect(()=>{const s=window.matchMedia(`(max-width: ${Ge-1}px)`),o=()=>{r(window.innerWidth<Ge)};return s.addEventListener("change",o),r(window.innerWidth<Ge),()=>s.removeEventListener("change",o)},[]),!!t}const wn=vr,jn=gr,qt=a.forwardRef(({className:t,...r},s)=>e.jsx(St,{className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));qt.displayName=St.displayName;const Cn=Ct("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Kt=a.forwardRef(({side:t="right",className:r,children:s,...o},n)=>e.jsxs(jn,{children:[e.jsx(qt,{}),e.jsxs(kt,{ref:n,className:N(Cn({side:t}),r),...o,children:[e.jsxs(br,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));Kt.displayName=kt.displayName;const Gt=({className:t,...r})=>e.jsx("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",t),...r});Gt.displayName="SheetHeader";const Yt=a.forwardRef(({className:t,...r},s)=>e.jsx(Tt,{ref:s,className:N("text-lg font-semibold text-foreground",t),...r}));Yt.displayName=Tt.displayName;const Xt=a.forwardRef(({className:t,...r},s)=>e.jsx(_t,{ref:s,className:N("text-sm text-muted-foreground",t),...r}));Xt.displayName=_t.displayName;var Nn=Symbol("radix.slottable");function Sn(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=Nn,r}var Zt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kn="VisuallyHidden",Qt=a.forwardRef((t,r)=>e.jsx(P.span,{...t,ref:r,style:{...Zt,...t.style}}));Qt.displayName=kn;var Tn=Qt,[Oe]=Me("Tooltip",[Ae]),Le=Ae(),Jt="TooltipProvider",_n=700,Ze="tooltip.open",[Rn,ut]=Oe(Jt),es=t=>{const{__scopeTooltip:r,delayDuration:s=_n,skipDelayDuration:o=300,disableHoverableContent:n=!1,children:i}=t,l=a.useRef(!0),d=a.useRef(!1),c=a.useRef(0);return a.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),e.jsx(Rn,{scope:r,isOpenDelayedRef:l,delayDuration:s,onOpen:a.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:a.useCallback(u=>{d.current=u},[]),disableHoverableContent:n,children:i})};es.displayName=Jt;var Se="Tooltip",[En,ke]=Oe(Se),ts=t=>{const{__scopeTooltip:r,children:s,open:o,defaultOpen:n,onOpenChange:i,disableHoverableContent:l,delayDuration:d}=t,c=ut(Se,t.__scopeTooltip),u=Le(r),[p,x]=a.useState(null),g=De(),b=a.useRef(0),y=l??c.disableHoverableContent,h=d??c.delayDuration,v=a.useRef(!1),[m,f]=ve({prop:o,defaultProp:n??!1,onChange:R=>{R?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ze))):c.onClose(),i?.(R)},caller:Se}),w=a.useMemo(()=>m?v.current?"delayed-open":"instant-open":"closed",[m]),C=a.useCallback(()=>{window.clearTimeout(b.current),b.current=0,v.current=!1,f(!0)},[f]),k=a.useCallback(()=>{window.clearTimeout(b.current),b.current=0,f(!1)},[f]),V=a.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{v.current=!0,f(!0),b.current=0},h)},[h,f]);return a.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),e.jsx(Pt,{...u,children:e.jsx(En,{scope:r,contentId:g,open:m,stateAttribute:w,trigger:p,onTriggerChange:x,onTriggerEnter:a.useCallback(()=>{c.isOpenDelayedRef.current?V():C()},[c.isOpenDelayedRef,V,C]),onTriggerLeave:a.useCallback(()=>{y?k():(window.clearTimeout(b.current),b.current=0)},[k,y]),onOpen:C,onClose:k,disableHoverableContent:y,children:s})})};ts.displayName=Se;var Qe="TooltipTrigger",ss=a.forwardRef((t,r)=>{const{__scopeTooltip:s,...o}=t,n=ke(Qe,s),i=ut(Qe,s),l=Le(s),d=a.useRef(null),c=L(r,d,n.onTriggerChange),u=a.useRef(!1),p=a.useRef(!1),x=a.useCallback(()=>u.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),e.jsx(Mt,{asChild:!0,...l,children:e.jsx(P.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...o,ref:c,onPointerMove:_(t.onPointerMove,g=>{g.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),p.current=!0)}),onPointerLeave:_(t.onPointerLeave,()=>{n.onTriggerLeave(),p.current=!1}),onPointerDown:_(t.onPointerDown,()=>{n.open&&n.onClose(),u.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:_(t.onFocus,()=>{u.current||n.onOpen()}),onBlur:_(t.onBlur,n.onClose),onClick:_(t.onClick,n.onClose)})})});ss.displayName=Qe;var pt="TooltipPortal",[In,Pn]=Oe(pt,{forceMount:void 0}),rs=t=>{const{__scopeTooltip:r,forceMount:s,children:o,container:n}=t,i=ke(pt,r);return e.jsx(In,{scope:r,forceMount:s,children:e.jsx(at,{present:s||i.open,children:e.jsx(Rt,{asChild:!0,container:n,children:o})})})};rs.displayName=pt;var he="TooltipContent",ns=a.forwardRef((t,r)=>{const s=Pn(he,t.__scopeTooltip),{forceMount:o=s.forceMount,side:n="top",...i}=t,l=ke(he,t.__scopeTooltip);return e.jsx(at,{present:o||l.open,children:l.disableHoverableContent?e.jsx(os,{side:n,...i,ref:r}):e.jsx(Mn,{side:n,...i,ref:r})})}),Mn=a.forwardRef((t,r)=>{const s=ke(he,t.__scopeTooltip),o=ut(he,t.__scopeTooltip),n=a.useRef(null),i=L(r,n),[l,d]=a.useState(null),{trigger:c,onClose:u}=s,p=n.current,{onPointerInTransitChange:x}=o,g=a.useCallback(()=>{d(null),x(!1)},[x]),b=a.useCallback((y,h)=>{const v=y.currentTarget,m={x:y.clientX,y:y.clientY},f=Ln(m,v.getBoundingClientRect()),w=Hn(m,f),C=$n(h.getBoundingClientRect()),k=Fn([...w,...C]);d(k),x(!0)},[x]);return a.useEffect(()=>()=>g(),[g]),a.useEffect(()=>{if(c&&p){const y=v=>b(v,p),h=v=>b(v,c);return c.addEventListener("pointerleave",y),p.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",y),p.removeEventListener("pointerleave",h)}}},[c,p,b,g]),a.useEffect(()=>{if(l){const y=h=>{const v=h.target,m={x:h.clientX,y:h.clientY},f=c?.contains(v)||p?.contains(v),w=!Bn(m,l);f?g():w&&(g(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,p,l,u,g]),e.jsx(os,{...t,ref:i})}),[An,Dn]=Oe(Se,{isInside:!1}),On=Sn("TooltipContent"),os=a.forwardRef((t,r)=>{const{__scopeTooltip:s,children:o,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:l,...d}=t,c=ke(he,s),u=Le(s),{onClose:p}=c;return a.useEffect(()=>(document.addEventListener(Ze,p),()=>document.removeEventListener(Ze,p)),[p]),a.useEffect(()=>{if(c.trigger){const x=g=>{g.target?.contains(c.trigger)&&p()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[c.trigger,p]),e.jsx(Et,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:x=>x.preventDefault(),onDismiss:p,children:e.jsxs(It,{"data-state":c.stateAttribute,...u,...d,ref:r,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(On,{children:o}),e.jsx(An,{scope:s,isInside:!0,children:e.jsx(Tn,{id:c.contentId,role:"tooltip",children:n||o})})]})})});ns.displayName=he;var as="TooltipArrow",is=a.forwardRef((t,r)=>{const{__scopeTooltip:s,...o}=t,n=Le(s);return Dn(as,s).isInside?null:e.jsx(At,{...n,...o,ref:r})});is.displayName=as;function Ln(t,r){const s=Math.abs(r.top-t.y),o=Math.abs(r.bottom-t.y),n=Math.abs(r.right-t.x),i=Math.abs(r.left-t.x);switch(Math.min(s,o,n,i)){case i:return"left";case n:return"right";case s:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Hn(t,r,s=5){const o=[];switch(r){case"top":o.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":o.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":o.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":o.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return o}function $n(t){const{top:r,right:s,bottom:o,left:n}=t;return[{x:n,y:r},{x:s,y:r},{x:s,y:o},{x:n,y:o}]}function Bn(t,r){const{x:s,y:o}=t;let n=!1;for(let i=0,l=r.length-1;i<r.length;l=i++){const d=r[i],c=r[l],u=d.x,p=d.y,x=c.x,g=c.y;p>o!=g>o&&s<(x-u)*(o-p)/(g-p)+u&&(n=!n)}return n}function Fn(t){const r=t.slice();return r.sort((s,o)=>s.x<o.x?-1:s.x>o.x?1:s.y<o.y?-1:s.y>o.y?1:0),Vn(r)}function Vn(t){if(t.length<=1)return t.slice();const r=[];for(let o=0;o<t.length;o++){const n=t[o];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(n.y-l.y)>=(i.y-l.y)*(n.x-l.x))r.pop();else break}r.push(n)}r.pop();const s=[];for(let o=t.length-1;o>=0;o--){const n=t[o];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(n.y-l.y)>=(i.y-l.y)*(n.x-l.x))s.pop();else break}s.push(n)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var zn=es,Un=ts,Wn=ss,qn=rs,ls=ns,Ea=is;const Kn=zn,Gn=Un,Yn=Wn,cs=a.forwardRef(({className:t,sideOffset:r=4,...s},o)=>e.jsx(qn,{children:e.jsx(ls,{ref:o,sideOffset:r,className:N("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s})}));cs.displayName=ls.displayName;const Xn="sidebar_state",Zn=3600*24*7,Qn="16rem",Jn="18rem",eo="3rem",to="b",ds=a.createContext(null);function fe(){const t=a.useContext(ds);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Ia({defaultOpen:t=!0,open:r,onOpenChange:s,className:o,style:n,children:i,...l}){const d=yn(),[c,u]=a.useState(!1),[p,x]=a.useState(t),g=r??p,b=a.useCallback(m=>{const f=typeof m=="function"?m(g):m;s?s(f):x(f),document.cookie=`${Xn}=${f}; path=/; max-age=${Zn}`},[s,g]),y=a.useCallback(()=>d?u(m=>!m):b(m=>!m),[d,b,u]);a.useEffect(()=>{const m=f=>{f.key===to&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),y())};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[y]);const h=g?"expanded":"collapsed",v=a.useMemo(()=>({state:h,open:g,setOpen:b,isMobile:d,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[h,g,b,d,c,u,y]);return e.jsx(ds.Provider,{value:v,children:e.jsx(Kn,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Qn,"--sidebar-width-icon":eo,...n},className:N("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",o),...l,children:i})})})}function so({side:t="left",variant:r="sidebar",collapsible:s="offcanvas",className:o,children:n,...i}){const{isMobile:l,state:d,openMobile:c,setOpenMobile:u}=fe();return s==="none"?e.jsx("div",{"data-slot":"sidebar",className:N("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",o),...i,children:n}):l?e.jsx(wn,{open:c,onOpenChange:u,...i,children:e.jsxs(Kt,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Jn},side:t,children:[e.jsxs(Gt,{className:"sr-only",children:[e.jsx(Yt,{children:"Sidebar"}),e.jsx(Xt,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:n})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?s:"","data-variant":r,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:N("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{"data-slot":"sidebar-container",className:N("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...i,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function Pa({className:t,onClick:r,...s}){const{toggleSidebar:o}=fe();return e.jsxs(A,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:N("size-7",t),onClick:n=>{r?.(n),o()},...s,children:[e.jsx(tn,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function ro({className:t,...r}){const{toggleSidebar:s}=fe();return e.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:N("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...r})}function Ma({className:t,...r}){return e.jsx("main",{"data-slot":"sidebar-inset",className:N("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...r})}function no({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:N("flex flex-col gap-2 p-2",t),...r})}function oo({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:N("flex flex-col gap-2 p-2",t),...r})}function ao({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:N("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r})}function us({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:N("relative flex w-full min-w-0 flex-col p-2",t),...r})}function io({className:t,asChild:r=!1,...s}){const o=r?nt:"div";return e.jsx(o,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:N("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})}function ht({className:t,...r}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:N("flex w-full min-w-0 flex-col gap-1",t),...r})}function Ee({className:t,...r}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:N("group/menu-item relative",t),...r})}const lo=Ct("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Ie({asChild:t=!1,isActive:r=!1,variant:s="default",size:o="default",tooltip:n,className:i,...l}){const d=t?nt:"button",{isMobile:c,state:u}=fe(),p=e.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":o,"data-active":r,className:N(lo({variant:s,size:o}),i),...l});return n?(typeof n=="string"&&(n={children:n}),e.jsxs(Gn,{children:[e.jsx(Yn,{asChild:!0,children:p}),e.jsx(cs,{side:"right",align:"center",hidden:u!=="collapsed"||c,...n})]})):p}function co({className:t,asChild:r=!1,showOnHover:s=!1,...o}){const n=r?nt:"button";return e.jsx(n,{"data-slot":"sidebar-menu-action","data-sidebar":"menu-action",className:N("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",t),...o})}function uo({items:t}){const[r,s]=a.useState("");a.useEffect(()=>{s(window.location.pathname)},[]);const o=n=>{const i=l=>l.replace(/\/$/,"");return i(r)===i(n)};return e.jsx(us,{className:"gap-4",children:e.jsx(ht,{className:"gap-4",children:t.map(n=>e.jsxs(Ee,{children:[e.jsx(Ie,{tooltip:n.title,isActive:n.isActive,asChild:!0,className:"text-base font-semibold",children:e.jsx("a",{href:n.url,children:e.jsx("span",{children:n.title})})}),n.children&&n.children.length>0?e.jsx("div",{className:"ml-4 mt-2 flex flex-col gap-1 border-l border-border/60 pl-3",children:n.children.map(i=>{const l=o(i.url);return e.jsx("a",{href:i.url,className:`text-sm ${l?"text-foreground font-medium":"text-muted-foreground hover:text-foreground"}`,children:i.title},i.title)})}):null]},n.title))})})}function po({projects:t}){if(!t.length)return null;const{isMobile:r}=fe();return e.jsxs(us,{className:"group-data-[collapsible=icon]:hidden",children:[e.jsx(io,{children:"Projects"}),e.jsxs(ht,{children:[t.map(s=>e.jsxs(Ee,{children:[e.jsx(Ie,{asChild:!0,children:e.jsxs("a",{href:s.url,children:[e.jsx(s.icon,{}),e.jsx("span",{children:s.name})]})}),e.jsxs(it,{children:[e.jsx(lt,{asChild:!0,children:e.jsxs(co,{showOnHover:!0,children:[e.jsx(Ye,{}),e.jsx("span",{className:"sr-only",children:"More"})]})}),e.jsxs(ct,{className:"w-48 rounded-lg",side:r?"bottom":"right",align:r?"end":"start",children:[e.jsxs(Q,{children:[e.jsx(Ur,{className:"text-muted-foreground"}),e.jsx("span",{children:"View Project"})]}),e.jsxs(Q,{children:[e.jsx(qr,{className:"text-muted-foreground"}),e.jsx("span",{children:"Share Project"})]}),e.jsx(Te,{}),e.jsxs(Q,{children:[e.jsx(gn,{className:"text-muted-foreground"}),e.jsx("span",{children:"Delete Project"})]})]})]})]},s.name)),e.jsx(Ee,{children:e.jsxs(Ie,{className:"text-sidebar-foreground/70",children:[e.jsx(Ye,{className:"text-sidebar-foreground/70"}),e.jsx("span",{children:"More"})]})})]})]})}function ho({user:t}){const{isMobile:r}=fe(),[s,o]=a.useState("light");a.useEffect(()=>{if(typeof window>"u")return;const i=window.localStorage.getItem("trusted-list-theme"),l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",d=document.documentElement,c=i??(d.classList.contains("dark")?"dark":l);o(c)},[]),a.useEffect(()=>{if(typeof window>"u")return;const i=document.documentElement;s==="dark"?i.classList.add("dark"):i.classList.remove("dark"),window.localStorage.setItem("trusted-list-theme",s)},[s]);const n=()=>{o(i=>i==="light"?"dark":"light")};return e.jsx(ht,{children:e.jsx(Ee,{children:e.jsxs(it,{children:[e.jsx(lt,{asChild:!0,children:e.jsxs(Ie,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsxs(ye,{className:"h-8 w-8 rounded-lg",children:[e.jsx(we,{src:t.avatar,alt:t.name}),e.jsx(je,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:t.name}),e.jsx("span",{className:"truncate text-xs",children:t.email})]}),e.jsx(Vr,{className:"ml-auto size-4"})]})}),e.jsxs(ct,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:r?"bottom":"right",align:"end",sideOffset:4,children:[e.jsx(yr,{className:"p-0 font-normal",children:e.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[e.jsxs(ye,{className:"h-8 w-8 rounded-lg",children:[e.jsx(we,{src:t.avatar,alt:t.name}),e.jsx(je,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:t.name}),e.jsx("span",{className:"truncate text-xs",children:t.email})]})]})}),e.jsx(Te,{}),e.jsx(yt,{children:e.jsxs(Q,{children:[e.jsx(Wt,{}),"Upgrade to Pro"]})}),e.jsx(Te,{}),e.jsxs(yt,{children:[e.jsxs(Q,{onClick:n,children:[s==="dark"?e.jsx(mn,{}):e.jsx(Jr,{}),s==="dark"?"Set theme to light":"Set theme to dark"]}),e.jsxs(Q,{children:[e.jsx(ln,{}),"Account Settings"]}),e.jsxs(Q,{children:[e.jsx(Lr,{}),"Notifications"]})]}),e.jsx(Te,{}),e.jsxs(Q,{children:[e.jsx(Zr,{}),"Log out"]})]})]})})})}const fo=[{title:"How Can You Help",url:"/trusted-list/",icon:un,isActive:!0,children:[{title:"Your Help Activity",url:"/trusted-list/interactions"},{title:"All Requests For Help",url:"/trusted-list/requests"}]},{title:"People I Trust",url:"#",icon:dt},{title:"People Who Trust Me",url:"#",icon:vn},{title:"Your Shortlists",url:"#",icon:Yr}],mo={name:"Ryan Shafer",email:"ryan.shafer@gmail.com",avatar:"https://media.licdn.com/dms/image/v2/C4E03AQGoFA-9wu70Og/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1517731083735?e=1764806400&v=beta&t=BxRL0Gye0EILeBGBt-aZi_VNXi5BZNxK6KnxuXQGgXk"},ps="/trusted-list/",xo=`${ps}logo-light.svg`,go=`${ps}logo-dark.svg`;function Aa({...t}){return e.jsxs(so,{collapsible:"icon",...t,children:[e.jsxs(no,{className:"space-y-4 px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:xo,height:34,width:34,alt:"The Trusted List",className:"h-[34px] w-auto dark:hidden"}),e.jsx("img",{src:go,height:34,width:34,alt:"The Trusted List",className:"hidden h-[34px] w-auto dark:block"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(on,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(mr,{type:"search",placeholder:"Search the list",className:"h-10 rounded-full border border-border bg-background pl-9 text-sm"})]})]}),e.jsxs(ao,{children:[e.jsx(uo,{items:fo}),e.jsx(po,{projects:[]})]}),e.jsx(oo,{children:e.jsx(ho,{user:mo})}),e.jsx(ro,{})]})}const He=a.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{ref:s,className:N("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r}));He.displayName="Textarea";function ft(t){const r=a.useRef({value:t,previous:t});return a.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var $e="Switch",[bo]=Me($e),[vo,yo]=bo($e),hs=a.forwardRef((t,r)=>{const{__scopeSwitch:s,name:o,checked:n,defaultChecked:i,required:l,disabled:d,value:c="on",onCheckedChange:u,form:p,...x}=t,[g,b]=a.useState(null),y=L(r,w=>b(w)),h=a.useRef(!1),v=g?p||!!g.closest("form"):!0,[m,f]=ve({prop:n,defaultProp:i??!1,onChange:u,caller:$e});return e.jsxs(vo,{scope:s,checked:m,disabled:d,children:[e.jsx(P.button,{type:"button",role:"switch","aria-checked":m,"aria-required":l,"data-state":gs(m),"data-disabled":d?"":void 0,disabled:d,value:c,...x,ref:y,onClick:_(t.onClick,w=>{f(C=>!C),v&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})}),v&&e.jsx(xs,{control:g,bubbles:!h.current,name:o,value:c,checked:m,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});hs.displayName=$e;var fs="SwitchThumb",ms=a.forwardRef((t,r)=>{const{__scopeSwitch:s,...o}=t,n=yo(fs,s);return e.jsx(P.span,{"data-state":gs(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:r})});ms.displayName=fs;var wo="SwitchBubbleInput",xs=a.forwardRef(({__scopeSwitch:t,control:r,checked:s,bubbles:o=!0,...n},i)=>{const l=a.useRef(null),d=L(l,i),c=ft(s),u=Dt(r);return a.useEffect(()=>{const p=l.current;if(!p)return;const x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(c!==s&&b){const y=new Event("click",{bubbles:o});b.call(p,s),p.dispatchEvent(y)}},[c,s,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:d,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xs.displayName=wo;function gs(t){return t?"checked":"unchecked"}var bs=hs,jo=ms;const vs=a.forwardRef(({className:t,...r},s)=>e.jsx(bs,{className:N("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:e.jsx(jo,{className:N("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));vs.displayName=bs.displayName;var Be="Checkbox",[Co]=Me(Be),[No,mt]=Co(Be);function So(t){const{__scopeCheckbox:r,checked:s,children:o,defaultChecked:n,disabled:i,form:l,name:d,onCheckedChange:c,required:u,value:p="on",internal_do_not_use_render:x}=t,[g,b]=ve({prop:s,defaultProp:n??!1,onChange:c,caller:Be}),[y,h]=a.useState(null),[v,m]=a.useState(null),f=a.useRef(!1),w=y?!!l||!!y.closest("form"):!0,C={checked:g,disabled:i,setChecked:b,control:y,setControl:h,name:d,form:l,value:p,hasConsumerStoppedPropagationRef:f,required:u,defaultChecked:te(n)?!1:n,isFormControl:w,bubbleInput:v,setBubbleInput:m};return e.jsx(No,{scope:r,...C,children:ko(x)?x(C):o})}var ys="CheckboxTrigger",ws=a.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...o},n)=>{const{control:i,value:l,disabled:d,checked:c,required:u,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:y}=mt(ys,t),h=L(n,p),v=a.useRef(c);return a.useEffect(()=>{const m=i?.form;if(m){const f=()=>x(v.current);return m.addEventListener("reset",f),()=>m.removeEventListener("reset",f)}},[i,x]),e.jsx(P.button,{type:"button",role:"checkbox","aria-checked":te(c)?"mixed":c,"aria-required":u,"data-state":ks(c),"data-disabled":d?"":void 0,disabled:d,value:l,...o,ref:h,onKeyDown:_(r,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:_(s,m=>{x(f=>te(f)?!0:!f),y&&b&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})})});ws.displayName=ys;var xt=a.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:o,checked:n,defaultChecked:i,required:l,disabled:d,value:c,onCheckedChange:u,form:p,...x}=t;return e.jsx(So,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:d,required:l,onCheckedChange:u,name:o,form:p,value:c,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(ws,{...x,ref:r,__scopeCheckbox:s}),g&&e.jsx(Ss,{__scopeCheckbox:s})]})})});xt.displayName=Be;var js="CheckboxIndicator",Cs=a.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:o,...n}=t,i=mt(js,s);return e.jsx(at,{present:o||te(i.checked)||i.checked===!0,children:e.jsx(P.span,{"data-state":ks(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...t.style}})})});Cs.displayName=js;var Ns="CheckboxBubbleInput",Ss=a.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:o,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:l,required:d,disabled:c,name:u,value:p,form:x,bubbleInput:g,setBubbleInput:b}=mt(Ns,t),y=L(s,b),h=ft(i),v=Dt(o);a.useEffect(()=>{const f=g;if(!f)return;const w=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(w,"checked").set,V=!n.current;if(h!==i&&k){const R=new Event("click",{bubbles:V});f.indeterminate=te(i),k.call(f,te(i)?!1:i),f.dispatchEvent(R)}},[g,h,i,n]);const m=a.useRef(te(i)?!1:i);return e.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??m.current,required:d,disabled:c,name:u,value:p,form:x,...r,tabIndex:-1,ref:y,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ss.displayName=Ns;function ko(t){return typeof t=="function"}function te(t){return t==="indeterminate"}function ks(t){return te(t)?"indeterminate":t?"checked":"unchecked"}const Ts=a.forwardRef(({className:t,...r},s)=>e.jsx(xt,{ref:s,className:N("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:e.jsx(Cs,{className:N("grid place-content-center text-current"),children:e.jsx(Nt,{className:"h-4 w-4"})})}));Ts.displayName=xt.displayName;const To=({open:t,onOpenChange:r,contactName:s,messages:o,composer:n,onComposerChange:i,onSend:l,isHelpRequest:d,isCompleted:c,onComplete:u,onUndoComplete:p})=>{const[x,g]=a.useState(!1),[b,y]=a.useState(!1),h=a.useRef(null),v=a.useRef(null);a.useEffect(()=>{t||g(!1)},[t]),a.useEffect(()=>{if(t){const C=setTimeout(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},100);return()=>clearTimeout(C)}},[o,t]);const m=C=>{C.preventDefault(),l(n)},f=()=>{c||h.current?.click()},w=C=>{const k=C.target.files?.[0];k&&(l(`[Attachment] ${k.name}`),C.target.value="")};return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{open:t,onOpenChange:r,children:e.jsxs(Ne,{className:"max-w-lg",children:[e.jsx(_e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(Re,{children:["Chat with ",s]})}),e.jsxs("div",{className:"flex h-[80dvh] flex-col space-y-1",children:[e.jsxs("div",{className:"relative flex-1 min-h-0",children:[e.jsx("div",{ref:v,className:"h-full space-y-3 overflow-y-auto py-4 pr-2",style:{scrollbarGutter:"stable"},children:o.map(C=>e.jsx(Ro,{message:C,contactName:s},C.id))}),e.jsx("div",{className:"pointer-events-none absolute -top-px left-0 right-0 h-8 bg-gradient-to-b from-white dark:from-background to-transparent z-10"}),e.jsx("div",{className:"pointer-events-none absolute -bottom-px left-0 right-0 h-8 bg-gradient-to-t from-white dark:from-background to-transparent z-10"})]}),x?e.jsx(_o,{contactName:s,onCancel:()=>g(!1),onSubmit:C=>{u?.(C),g(!1)}}):e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("form",{onSubmit:m,children:e.jsxs("div",{className:"rounded-3xl border border-border bg-muted/20 p-2 shadow-sm transition-all focus-within:border-primary/30 focus-within:bg-muted/30 focus-within:shadow-md",children:[e.jsx(He,{value:n,onChange:C=>i(C.target.value),placeholder:c?"This request is completed":`Let ${s.split(" ")[0]??s} know how you can help`,disabled:c,className:"min-h-8 w-full resize-none border-none bg-transparent p-2 text-md font-normal leading-relaxed text-foreground placeholder:text-muted-foreground/60 focus-visible:ring-0",rows:1}),e.jsxs("div",{className:"mt-2 flex items-center justify-between px-1",children:[e.jsx(A,{type:"button",variant:"outline",size:"icon",onClick:f,disabled:c,className:"h-8 w-8 rounded-xl border-border/60 text-muted-foreground hover:bg-muted/50 hover:text-foreground disabled:opacity-50","aria-label":"Attach a file",children:e.jsx(rn,{className:"h-4 w-4"})}),e.jsx("input",{ref:h,type:"file",className:"hidden",onChange:w,disabled:c}),e.jsx(A,{type:"submit",size:"icon",disabled:c||!n.trim(),className:"h-10 w-10 rounded-full bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 disabled:opacity-50 transition-all active:scale-95",children:e.jsx(Dr,{className:"h-5 w-5"})})]})]})}),d&&e.jsxs("div",{className:"flex items-center space-x-2 px-1",children:[e.jsx(Ts,{id:"request-complete",checked:c,onCheckedChange:C=>{C?g(!0):y(!0)}}),e.jsx("label",{htmlFor:"request-complete",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Request complete"})]})]})]})]})}),e.jsx(Ce,{open:b,onOpenChange:y,children:e.jsxs(Ne,{children:[e.jsx(_e,{children:e.jsx(Re,{children:"Undo completion?"})}),e.jsx("div",{className:"py-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"This will remove the public thank you and revoke the karma points awarded."})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(A,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(A,{onClick:()=>{p?.(),y(!1)},children:"Confirm Undo"})]})]})})]})},_o=({contactName:t,onCancel:r,onSubmit:s})=>{const[o,n]=a.useState(5),[i,l]=a.useState(""),[d,c]=a.useState(!0);return e.jsxs("div",{className:"rounded-2xl border border-border bg-card p-4 shadow-sm animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold",children:"Complete Request"}),e.jsx(A,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:r,children:e.jsx(ot,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{children:"Rate help quality"}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(u=>e.jsx("button",{type:"button",onClick:()=>n(u),className:`rounded-md p-1 transition-colors ${o>=u?"text-amber-400":"text-muted-foreground/30"}`,children:e.jsx(hn,{className:"h-6 w-6 fill-current"})},u))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{children:"Add a note (optional)"}),e.jsx(He,{value:i,onChange:u=>l(u.target.value),placeholder:`Thank ${t} for their help...`,className:"resize-none",rows:2})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs(be,{htmlFor:"public-thanks",className:"flex flex-col gap-1",children:[e.jsxs("span",{children:["Publicly thank ",t]}),e.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"They will receive karma points"})]}),e.jsx(vs,{id:"public-thanks",checked:d,onCheckedChange:c})]}),e.jsx(A,{className:"w-full",onClick:()=>s({rating:o,note:i,publicThanks:d}),children:"Complete & Send Feedback"})]})]})},Ro=({message:t,contactName:r})=>{if(t.type==="system")return e.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[e.jsx("div",{className:"h-px flex-1 bg-border"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t.text}),e.jsx("div",{className:"h-px flex-1 bg-border"})]});if(t.type==="karma"){const i=t.sender==="user"?`You publicly thanked ${r}!`:`${r} publicly thanked you!`;return e.jsx("div",{className:"flex justify-center py-2",children:e.jsxs("div",{className:"flex max-w-[85%] flex-col items-center gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-center dark:border-amber-900/50 dark:bg-amber-900/20",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-100 text-amber-600 dark:bg-amber-900/40 dark:text-amber-400",children:e.jsx(Wt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100",children:i}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:t.text})]})]})})}const s=t.sender==="user",o=s?"You":r;return e.jsx("div",{className:`flex ${s?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 text-sm ${s?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:[e.jsx("p",{className:"text-xs font-semibold",children:o}),e.jsx("p",{className:"mt-1 leading-relaxed",children:t.text})]})})};function wt(t,[r,s]){return Math.min(s,Math.max(r,t))}function Eo(t){const r=Io(t),s=a.forwardRef((o,n)=>{const{children:i,...l}=o,d=a.Children.toArray(i),c=d.find(Mo);if(c){const u=c.props.children,p=d.map(x=>x===c?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:x);return e.jsx(r,{...l,ref:n,children:a.isValidElement(u)?a.cloneElement(u,void 0,p):null})}return e.jsx(r,{...l,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function Io(t){const r=a.forwardRef((s,o)=>{const{children:n,...i}=s;if(a.isValidElement(n)){const l=Do(n),d=Ao(i,n.props);return n.type!==a.Fragment&&(d.ref=o?xr(o,l):l),a.cloneElement(n,d)}return a.Children.count(n)>1?a.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Po=Symbol("radix.slottable");function Mo(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Po}function Ao(t,r){const s={...r};for(const o in r){const n=t[o],i=r[o];/^on[A-Z]/.test(o)?n&&i?s[o]=(...d)=>{const c=i(...d);return n(...d),c}:n&&(s[o]=n):o==="style"?s[o]={...n,...i}:o==="className"&&(s[o]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function Do(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Oo=[" ","Enter","ArrowUp","ArrowDown"],Lo=[" ","Enter"],de="Select",[Fe,Ve,Ho]=wr(de),[me]=Me(de,[Ho,Ae]),ze=Ae(),[$o,re]=me(de),[Bo,Fo]=me(de),_s=t=>{const{__scopeSelect:r,children:s,open:o,defaultOpen:n,onOpenChange:i,value:l,defaultValue:d,onValueChange:c,dir:u,name:p,autoComplete:x,disabled:g,required:b,form:y}=t,h=ze(r),[v,m]=a.useState(null),[f,w]=a.useState(null),[C,k]=a.useState(!1),V=Tr(u),[R,H]=ve({prop:o,defaultProp:n??!1,onChange:i,caller:de}),[G,Y]=ve({prop:l,defaultProp:d,onChange:c,caller:de}),$=a.useRef(null),B=v?y||!!v.closest("form"):!0,[X,W]=a.useState(new Set),q=Array.from(X).map(O=>O.props.value).join(";");return e.jsx(Pt,{...h,children:e.jsxs($o,{required:b,scope:r,trigger:v,onTriggerChange:m,valueNode:f,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:k,contentId:De(),value:G,onValueChange:Y,open:R,onOpenChange:H,dir:V,triggerPointerDownPosRef:$,disabled:g,children:[e.jsx(Fe.Provider,{scope:r,children:e.jsx(Bo,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(O=>{W(z=>new Set(z).add(O))},[]),onNativeOptionRemove:a.useCallback(O=>{W(z=>{const F=new Set(z);return F.delete(O),F})},[]),children:s})}),B?e.jsxs(Qs,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:x,value:G,onChange:O=>Y(O.target.value),disabled:g,form:y,children:[G===void 0?e.jsx("option",{value:""}):null,Array.from(X)]},q):null]})})};_s.displayName=de;var Rs="SelectTrigger",Es=a.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:o=!1,...n}=t,i=ze(s),l=re(Rs,s),d=l.disabled||o,c=L(r,l.onTriggerChange),u=Ve(s),p=a.useRef("touch"),[x,g,b]=er(h=>{const v=u().filter(w=>!w.disabled),m=v.find(w=>w.value===l.value),f=tr(v,h,m);f!==void 0&&l.onValueChange(f.value)}),y=h=>{d||(l.onOpenChange(!0),b()),h&&(l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(Mt,{asChild:!0,...i,children:e.jsx(P.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Js(l.value)?"":void 0,...n,ref:c,onClick:_(n.onClick,h=>{h.currentTarget.focus(),p.current!=="mouse"&&y(h)}),onPointerDown:_(n.onPointerDown,h=>{p.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(y(h),h.preventDefault())}),onKeyDown:_(n.onKeyDown,h=>{const v=x.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&g(h.key),!(v&&h.key===" ")&&Oo.includes(h.key)&&(y(),h.preventDefault())})})})});Es.displayName=Rs;var Is="SelectValue",Ps=a.forwardRef((t,r)=>{const{__scopeSelect:s,className:o,style:n,children:i,placeholder:l="",...d}=t,c=re(Is,s),{onValueNodeHasChildrenChange:u}=c,p=i!==void 0,x=L(r,c.onValueNodeChange);return se(()=>{u(p)},[u,p]),e.jsx(P.span,{...d,ref:x,style:{pointerEvents:"none"},children:Js(c.value)?e.jsx(e.Fragment,{children:l}):i})});Ps.displayName=Is;var Vo="SelectIcon",Ms=a.forwardRef((t,r)=>{const{__scopeSelect:s,children:o,...n}=t;return e.jsx(P.span,{"aria-hidden":!0,...n,ref:r,children:o||""})});Ms.displayName=Vo;var zo="SelectPortal",As=t=>e.jsx(Rt,{asChild:!0,...t});As.displayName=zo;var ue="SelectContent",Ds=a.forwardRef((t,r)=>{const s=re(ue,t.__scopeSelect),[o,n]=a.useState();if(se(()=>{n(new DocumentFragment)},[]),!s.open){const i=o;return i?Vt.createPortal(e.jsx(Os,{scope:t.__scopeSelect,children:e.jsx(Fe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Ls,{...t,ref:r})});Ds.displayName=ue;var K=10,[Os,ne]=me(ue),Uo="SelectContentImpl",Wo=Eo("SelectContent.RemoveScroll"),Ls=a.forwardRef((t,r)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:l,side:d,sideOffset:c,align:u,alignOffset:p,arrowPadding:x,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:h,avoidCollisions:v,...m}=t,f=re(ue,s),[w,C]=a.useState(null),[k,V]=a.useState(null),R=L(r,j=>C(j)),[H,G]=a.useState(null),[Y,$]=a.useState(null),B=Ve(s),[X,W]=a.useState(!1),q=a.useRef(!1);a.useEffect(()=>{if(w)return Cr(w)},[w]),Nr();const O=a.useCallback(j=>{const[S,...M]=B().map(D=>D.ref.current),[T]=M.slice(-1),E=document.activeElement;for(const D of j)if(D===E||(D?.scrollIntoView({block:"nearest"}),D===S&&k&&(k.scrollTop=0),D===T&&k&&(k.scrollTop=k.scrollHeight),D?.focus(),document.activeElement!==E))return},[B,k]),z=a.useCallback(()=>O([H,w]),[O,H,w]);a.useEffect(()=>{X&&z()},[X,z]);const{onOpenChange:F,triggerPointerDownPosRef:U}=f;a.useEffect(()=>{if(w){let j={x:0,y:0};const S=T=>{j={x:Math.abs(Math.round(T.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(T.pageY)-(U.current?.y??0))}},M=T=>{j.x<=10&&j.y<=10?T.preventDefault():w.contains(T.target)||F(!1),document.removeEventListener("pointermove",S),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",S),document.addEventListener("pointerup",M,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",M,{capture:!0})}}},[w,F,U]),a.useEffect(()=>{const j=()=>F(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[F]);const[oe,J]=er(j=>{const S=B().filter(E=>!E.disabled),M=S.find(E=>E.ref.current===document.activeElement),T=tr(S,j,M);T&&setTimeout(()=>T.ref.current.focus())}),xe=a.useCallback((j,S,M)=>{const T=!q.current&&!M;(f.value!==void 0&&f.value===S||T)&&(G(j),T&&(q.current=!0))},[f.value]),ae=a.useCallback(()=>w?.focus(),[w]),ee=a.useCallback((j,S,M)=>{const T=!q.current&&!M;(f.value!==void 0&&f.value===S||T)&&$(j)},[f.value]),pe=o==="popper"?Je:Hs,ie=pe===Je?{side:d,sideOffset:c,align:u,alignOffset:p,arrowPadding:x,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:h,avoidCollisions:v}:{};return e.jsx(Os,{scope:s,content:w,viewport:k,onViewportChange:V,itemRefCallback:xe,selectedItem:H,onItemLeave:ae,itemTextRefCallback:ee,focusSelectedItem:z,selectedItemText:Y,position:o,isPositioned:X,searchRef:oe,children:e.jsx(Sr,{as:Wo,allowPinchZoom:!0,children:e.jsx(kr,{asChild:!0,trapped:f.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:_(n,j=>{f.trigger?.focus({preventScroll:!0}),j.preventDefault()}),children:e.jsx(Et,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(pe,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:j=>j.preventDefault(),...m,...ie,onPlaced:()=>W(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:_(m.onKeyDown,j=>{const S=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!S&&j.key.length===1&&J(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let T=B().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(j.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const E=j.target,D=T.indexOf(E);T=T.slice(D+1)}setTimeout(()=>O(T)),j.preventDefault()}})})})})})})});Ls.displayName=Uo;var qo="SelectItemAlignedPosition",Hs=a.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:o,...n}=t,i=re(ue,s),l=ne(ue,s),[d,c]=a.useState(null),[u,p]=a.useState(null),x=L(r,R=>p(R)),g=Ve(s),b=a.useRef(!1),y=a.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:m,focusSelectedItem:f}=l,w=a.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&u&&h&&v&&m){const R=i.trigger.getBoundingClientRect(),H=u.getBoundingClientRect(),G=i.valueNode.getBoundingClientRect(),Y=m.getBoundingClientRect();if(i.dir!=="rtl"){const E=Y.left-H.left,D=G.left-E,le=R.left-D,ce=R.width+le,We=Math.max(ce,H.width),qe=window.innerWidth-K,Ke=wt(D,[K,Math.max(K,qe-We)]);d.style.minWidth=ce+"px",d.style.left=Ke+"px"}else{const E=H.right-Y.right,D=window.innerWidth-G.right-E,le=window.innerWidth-R.right-D,ce=R.width+le,We=Math.max(ce,H.width),qe=window.innerWidth-K,Ke=wt(D,[K,Math.max(K,qe-We)]);d.style.minWidth=ce+"px",d.style.right=Ke+"px"}const $=g(),B=window.innerHeight-K*2,X=h.scrollHeight,W=window.getComputedStyle(u),q=parseInt(W.borderTopWidth,10),O=parseInt(W.paddingTop,10),z=parseInt(W.borderBottomWidth,10),F=parseInt(W.paddingBottom,10),U=q+O+X+F+z,oe=Math.min(v.offsetHeight*5,U),J=window.getComputedStyle(h),xe=parseInt(J.paddingTop,10),ae=parseInt(J.paddingBottom,10),ee=R.top+R.height/2-K,pe=B-ee,ie=v.offsetHeight/2,j=v.offsetTop+ie,S=q+O+j,M=U-S;if(S<=ee){const E=$.length>0&&v===$[$.length-1].ref.current;d.style.bottom="0px";const D=u.clientHeight-h.offsetTop-h.offsetHeight,le=Math.max(pe,ie+(E?ae:0)+D+z),ce=S+le;d.style.height=ce+"px"}else{const E=$.length>0&&v===$[0].ref.current;d.style.top="0px";const le=Math.max(ee,q+h.offsetTop+(E?xe:0)+ie)+M;d.style.height=le+"px",h.scrollTop=S-ee+h.offsetTop}d.style.margin=`${K}px 0`,d.style.minHeight=oe+"px",d.style.maxHeight=B+"px",o?.(),requestAnimationFrame(()=>b.current=!0)}},[g,i.trigger,i.valueNode,d,u,h,v,m,i.dir,o]);se(()=>w(),[w]);const[C,k]=a.useState();se(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const V=a.useCallback(R=>{R&&y.current===!0&&(w(),f?.(),y.current=!1)},[w,f]);return e.jsx(Go,{scope:s,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:V,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:e.jsx(P.div,{...n,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Hs.displayName=qo;var Ko="SelectPopperPosition",Je=a.forwardRef((t,r)=>{const{__scopeSelect:s,align:o="start",collisionPadding:n=K,...i}=t,l=ze(s);return e.jsx(It,{...l,...i,ref:r,align:o,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Je.displayName=Ko;var[Go,gt]=me(ue,{}),et="SelectViewport",$s=a.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:o,...n}=t,i=ne(et,s),l=gt(et,s),d=L(r,i.onViewportChange),c=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Fe.Slot,{scope:s,children:e.jsx(P.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:_(n.onScroll,u=>{const p=u.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:g}=l;if(g?.current&&x){const b=Math.abs(c.current-p.scrollTop);if(b>0){const y=window.innerHeight-K*2,h=parseFloat(x.style.minHeight),v=parseFloat(x.style.height),m=Math.max(h,v);if(m<y){const f=m+b,w=Math.min(y,f),C=f-w;x.style.height=w+"px",x.style.bottom==="0px"&&(p.scrollTop=C>0?C:0,x.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});$s.displayName=et;var Bs="SelectGroup",[Yo,Xo]=me(Bs),Zo=a.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t,n=De();return e.jsx(Yo,{scope:s,id:n,children:e.jsx(P.div,{role:"group","aria-labelledby":n,...o,ref:r})})});Zo.displayName=Bs;var Fs="SelectLabel",Vs=a.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t,n=Xo(Fs,s);return e.jsx(P.div,{id:n.id,...o,ref:r})});Vs.displayName=Fs;var Pe="SelectItem",[Qo,zs]=me(Pe),Us=a.forwardRef((t,r)=>{const{__scopeSelect:s,value:o,disabled:n=!1,textValue:i,...l}=t,d=re(Pe,s),c=ne(Pe,s),u=d.value===o,[p,x]=a.useState(i??""),[g,b]=a.useState(!1),y=L(r,f=>c.itemRefCallback?.(f,o,n)),h=De(),v=a.useRef("touch"),m=()=>{n||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Qo,{scope:s,value:o,disabled:n,textId:h,isSelected:u,onItemTextChange:a.useCallback(f=>{x(w=>w||(f?.textContent??"").trim())},[]),children:e.jsx(Fe.ItemSlot,{scope:s,value:o,disabled:n,textValue:p,children:e.jsx(P.div,{role:"option","aria-labelledby":h,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...l,ref:y,onFocus:_(l.onFocus,()=>b(!0)),onBlur:_(l.onBlur,()=>b(!1)),onClick:_(l.onClick,()=>{v.current!=="mouse"&&m()}),onPointerUp:_(l.onPointerUp,()=>{v.current==="mouse"&&m()}),onPointerDown:_(l.onPointerDown,f=>{v.current=f.pointerType}),onPointerMove:_(l.onPointerMove,f=>{v.current=f.pointerType,n?c.onItemLeave?.():v.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_(l.onPointerLeave,f=>{f.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:_(l.onKeyDown,f=>{c.searchRef?.current!==""&&f.key===" "||(Lo.includes(f.key)&&m(),f.key===" "&&f.preventDefault())})})})})});Us.displayName=Pe;var ge="SelectItemText",Ws=a.forwardRef((t,r)=>{const{__scopeSelect:s,className:o,style:n,...i}=t,l=re(ge,s),d=ne(ge,s),c=zs(ge,s),u=Fo(ge,s),[p,x]=a.useState(null),g=L(r,m=>x(m),c.onItemTextChange,m=>d.itemTextRefCallback?.(m,c.value,c.disabled)),b=p?.textContent,y=a.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=u;return se(()=>(h(y),()=>v(y)),[h,v,y]),e.jsxs(e.Fragment,{children:[e.jsx(P.span,{id:c.textId,...i,ref:g}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Vt.createPortal(i.children,l.valueNode):null]})});Ws.displayName=ge;var qs="SelectItemIndicator",Ks=a.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t;return zs(qs,s).isSelected?e.jsx(P.span,{"aria-hidden":!0,...o,ref:r}):null});Ks.displayName=qs;var tt="SelectScrollUpButton",Gs=a.forwardRef((t,r)=>{const s=ne(tt,t.__scopeSelect),o=gt(tt,t.__scopeSelect),[n,i]=a.useState(!1),l=L(r,o.onScrollButtonChange);return se(()=>{if(s.viewport&&s.isPositioned){let d=function(){const u=c.scrollTop>0;i(u)};const c=s.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),n?e.jsx(Xs,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=s;d&&c&&(d.scrollTop=d.scrollTop-c.offsetHeight)}}):null});Gs.displayName=tt;var st="SelectScrollDownButton",Ys=a.forwardRef((t,r)=>{const s=ne(st,t.__scopeSelect),o=gt(st,t.__scopeSelect),[n,i]=a.useState(!1),l=L(r,o.onScrollButtonChange);return se(()=>{if(s.viewport&&s.isPositioned){let d=function(){const u=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<u;i(p)};const c=s.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),n?e.jsx(Xs,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=s;d&&c&&(d.scrollTop=d.scrollTop+c.offsetHeight)}}):null});Ys.displayName=st;var Xs=a.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:o,...n}=t,i=ne("SelectScrollButton",s),l=a.useRef(null),d=Ve(s),c=a.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return a.useEffect(()=>()=>c(),[c]),se(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(P.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:_(n.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:_(n.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:_(n.onPointerLeave,()=>{c()})})}),Jo="SelectSeparator",Zs=a.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t;return e.jsx(P.div,{"aria-hidden":!0,...o,ref:r})});Zs.displayName=Jo;var rt="SelectArrow",ea=a.forwardRef((t,r)=>{const{__scopeSelect:s,...o}=t,n=ze(s),i=re(rt,s),l=ne(rt,s);return i.open&&l.position==="popper"?e.jsx(At,{...n,...o,ref:r}):null});ea.displayName=rt;var ta="SelectBubbleInput",Qs=a.forwardRef(({__scopeSelect:t,value:r,...s},o)=>{const n=a.useRef(null),i=L(o,n),l=ft(r);return a.useEffect(()=>{const d=n.current;if(!d)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==r&&p){const x=new Event("change",{bubbles:!0});p.call(d,r),d.dispatchEvent(x)}},[l,r]),e.jsx(P.select,{...s,style:{...Zt,...s.style},ref:i,defaultValue:r})});Qs.displayName=ta;function Js(t){return t===""||t===void 0}function er(t){const r=jr(t),s=a.useRef(""),o=a.useRef(0),n=a.useCallback(l=>{const d=s.current+l;r(d),(function c(u){s.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>c(""),1e3))})(d)},[r]),i=a.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,n,i]}function tr(t,r,s){const n=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=s?t.indexOf(s):-1;let l=sa(t,Math.max(i,0));n.length===1&&(l=l.filter(u=>u!==s));const c=l.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function sa(t,r){return t.map((s,o)=>t[(r+o)%t.length])}var ra=_s,sr=Es,na=Ps,oa=Ms,aa=As,rr=Ds,ia=$s,nr=Vs,or=Us,la=Ws,ca=Ks,ar=Gs,ir=Ys,lr=Zs;const cr=ra,dr=na,bt=a.forwardRef(({className:t,children:r,...s},o)=>e.jsxs(sr,{ref:o,className:N("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(oa,{asChild:!0,children:e.jsx(zt,{className:"h-4 w-4 opacity-50"})})]}));bt.displayName=sr.displayName;const ur=a.forwardRef(({className:t,...r},s)=>e.jsx(ar,{ref:s,className:N("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Br,{className:"h-4 w-4"})}));ur.displayName=ar.displayName;const pr=a.forwardRef(({className:t,...r},s)=>e.jsx(ir,{ref:s,className:N("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(zt,{className:"h-4 w-4"})}));pr.displayName=ir.displayName;const vt=a.forwardRef(({className:t,children:r,position:s="popper",...o},n)=>e.jsx(aa,{children:e.jsxs(rr,{ref:n,className:N("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...o,children:[e.jsx(ur,{}),e.jsx(ia,{className:N("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(pr,{})]})}));vt.displayName=rr.displayName;const da=a.forwardRef(({className:t,...r},s)=>e.jsx(nr,{ref:s,className:N("px-2 py-1.5 text-sm font-semibold",t),...r}));da.displayName=nr.displayName;const Z=a.forwardRef(({className:t,children:r,...s},o)=>e.jsxs(or,{ref:o,className:N("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ca,{children:e.jsx(Nt,{className:"h-4 w-4"})})}),e.jsx(la,{children:r})]}));Z.displayName=or.displayName;const ua=a.forwardRef(({className:t,...r},s)=>e.jsx(lr,{ref:s,className:N("-mx-1 my-1 h-px bg-muted",t),...r}));ua.displayName=lr.displayName;function pa({open:t,onOpenChange:r,requestSummary:s,requestText:o,requestorName:n,requestorAvatarUrl:i,onSubmit:l}){const[d,c]=a.useState("spam"),[u,p]=a.useState(""),x=a.useMemo(()=>n?n.split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase():"",[n]);a.useEffect(()=>{t||(c("spam"),p(""))},[t]);const g=u.trim().length>0;return e.jsx(Ce,{open:t,onOpenChange:r,children:e.jsxs(Ne,{className:"max-w-lg",children:[e.jsxs(_e,{children:[e.jsx(Re,{children:"Flag as inappropriate"}),e.jsx(Ot,{children:"Help keep The Trusted List safe. Your report is private."})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"rounded-xl border border-border bg-muted/30 p-4",children:e.jsxs("div",{className:"space-y-2",children:[n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ye,{className:"h-7 w-7",children:[e.jsx(we,{src:i??void 0,alt:n}),e.jsx(je,{className:"text-xs font-semibold text-foreground/80",children:x})]}),e.jsx("div",{className:"text-xs font-semibold tracking-wide text-muted-foreground",children:n})]}):null,s?e.jsx("div",{className:"text-sm font-semibold leading-snug text-foreground",children:s}):null,e.jsx("div",{className:"text-sm leading-relaxed text-muted-foreground",children:o})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{htmlFor:"flag-reason",children:"Reason"}),e.jsxs(cr,{value:d,onValueChange:b=>c(b),children:[e.jsx(bt,{id:"flag-reason",className:"h-10",children:e.jsx(dr,{placeholder:"Select a reason"})}),e.jsxs(vt,{children:[e.jsx(Z,{value:"spam",children:"Spam or scam"}),e.jsx(Z,{value:"harassment",children:"Harassment or bullying"}),e.jsx(Z,{value:"hate",children:"Hate or hateful conduct"}),e.jsx(Z,{value:"sexual",children:"Sexual content"}),e.jsx(Z,{value:"violence",children:"Violence or threats"}),e.jsx(Z,{value:"misinformation",children:"Misinformation"}),e.jsx(Z,{value:"illegal",children:"Illegal activity"}),e.jsx(Z,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{htmlFor:"flag-details",children:"Whats wrong with this request?"}),e.jsx(He,{id:"flag-details",value:u,onChange:b=>p(b.target.value),placeholder:"Share any context that helps us review this quickly",rows:3,className:"resize-none"})]})]}),e.jsxs(Xe,{className:"gap-2 sm:gap-0",children:[e.jsx(A,{variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),e.jsx(A,{disabled:!g,onClick:()=>{l?.({reason:d,details:u.trim()}),Mr.success("Report sent",{description:"Thanks for helping keep the community safe."}),r(!1)},children:"Submit report"})]})]})})}function hr(t){if(!t)return"No deadline";const r=new Date(t),s=new Date,o=r.getTime()-s.getTime();if(o<0)return"Ended";const n=Math.floor(o/(1e3*60)),i=Math.floor(o/(1e3*60*60));return n<60?n===1?"Help needed in next 1 minute":`Help needed in next ${n} minutes`:i<24?i===1?"Help needed in next 1 hour":`Help needed in next ${i} hours`:`Help needed until ${r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}const Da=t=>t.variant==="circle"?e.jsx(xa,{...t}):t.variant==="network"?e.jsx(ga,{...t}):t.variant==="opportunities"?e.jsx(ba,{...t}):e.jsx(ma,{...t}),ha=({onDismiss:t,onFlag:r})=>e.jsxs(it,{children:[e.jsx(lt,{asChild:!0,children:e.jsxs(A,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(ct,{align:"end",children:[t&&e.jsxs(Q,{onClick:t,children:[e.jsx(_r,{className:"mr-2 h-4 w-4"}),"I can't help with this request"]}),e.jsxs(Q,{className:"text-destructive focus:text-destructive",onClick:r,children:[e.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Flag as inappropriate"]})]})]}),fa=({name:t,avatarUrl:r,relationshipType:s,relationshipLabel:o,onDismiss:n,onFlag:i})=>{const l=t.split(" ").map(d=>d[0]).join("").slice(0,2).toUpperCase();return e.jsxs("div",{className:"flex flex-row items-start gap-3 pb-2 pt-5 select-none",children:[e.jsxs(ye,{className:"h-10 w-10 shrink-0 border border-border mt-0.5",children:[r?e.jsx(we,{src:r,alt:t,className:"object-cover"}):null,e.jsx(je,{children:l})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 min-w-0",children:[e.jsx("span",{className:"font-semibold text-base truncate",children:t}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-start gap-1",children:[s==="direct"&&e.jsx(Ut,{className:"h-3 w-3 shrink-0 mt-0.5"}),s==="through-contact"&&e.jsx(dt,{className:"h-3 w-3 shrink-0 mt-0.5"}),s==="skills-match"&&e.jsx(Lt,{className:"h-3 w-3 shrink-0 mt-0.5"}),o]})]}),e.jsx("div",{className:"-mt-2 -mr-2",children:e.jsx(ha,{onDismiss:n,onFlag:i})})]})},Ue=({name:t,request:r,requestSummary:s,avatarUrl:o,relationshipType:n,connectionLabel:i,primaryActionLabel:l,endDate:d,onClear:c})=>{const[u,p]=a.useState(!1),[x,g]=a.useState(!1),[b,y]=a.useState(!1),h=a.useMemo(()=>{const S=s?.trim()??"",M=r.trim();return S?`${S.replace(/[.!?]\s*$/,"")}. ${M}`:M},[r,s]),[v,m]=a.useState(()=>[{id:Date.now(),sender:"contact",text:h}]),[f,w]=a.useState(""),[C,k]=a.useState(!1),[V,R]=a.useState(!1),[H,G]=a.useState("3 days"),[Y,$]=a.useState(!1),[B,X]=a.useState(!1),[W,q]=a.useState(!1),[O,z]=a.useState("card"),F=a.useRef(null),U=a.useRef(null),oe=a.useRef(null),J=a.useRef(null),xe=a.useCallback(S=>{const M=S.trim();M&&m(T=>[...T,{id:Date.now(),sender:"user",text:M}])},[m]),ae=a.useCallback(S=>{C||(z(S),k(!0),S==="dialog"&&(oe.current=setTimeout(()=>{p(!1)},700)),U.current=setTimeout(()=>{g(!0)},700),F.current=setTimeout(()=>{k(!1)},1e3))},[C]),ee=()=>{ae("card")},pe=a.useCallback(()=>{ae("dialog")},[ae]),ie=a.useCallback(()=>{p(!1),R(!0)},[]);a.useEffect(()=>()=>{F.current&&clearTimeout(F.current),U.current&&clearTimeout(U.current),oe.current&&clearTimeout(oe.current),J.current&&clearTimeout(J.current)},[]);const j=a.useCallback(()=>{B||(X(!0),J.current=setTimeout(()=>{c?c():q(!0)},250))},[B,c]);return W?null:e.jsxs(e.Fragment,{children:[e.jsxs(Ht,{className:`flex flex-col overflow-hidden transition-all hover:shadow-md border-border/80 bg-card ${B?"translate-y-4 scale-95 opacity-0":"opacity-100"} duration-300 ease-in-out`,children:[e.jsx(Er,{className:"p-0 px-5",children:e.jsx(fa,{name:t,avatarUrl:o,relationshipType:n,relationshipLabel:i,onDismiss:c?j:void 0,onFlag:()=>y(!0)})}),e.jsx($t,{className:"pb-0 px-5",children:e.jsxs("div",{className:"bg-muted/40 p-4 rounded-md cursor-pointer hover:bg-muted/60 transition-colors group/bubble relative mt-2 space-y-1.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",onClick:()=>p(!0),role:"button",tabIndex:0,onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),p(!0))},children:[s?e.jsx("p",{className:"font-bold text-foreground leading-relaxed mb-0",children:s}):null,e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground py-0.5",children:[e.jsx(Bt,{className:"w-3 h-3"}),e.jsx("span",{children:hr(d)})]}),e.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:r.length>80?e.jsxs(e.Fragment,{children:[r.slice(0,80).trim(),e.jsx("span",{className:"text-muted-foreground",children:"... "}),e.jsx("span",{className:"text-muted-foreground font-medium",children:"more"})]}):r}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-background/60 backdrop-blur-[1px] opacity-0 transition-opacity duration-200 group-hover/bubble:opacity-100",children:e.jsx("div",{className:"inline-flex h-8 items-center justify-center rounded-full bg-primary px-4 text-xs font-medium text-primary-foreground shadow-sm",children:"Read details"})})]})}),e.jsx(Ir,{className:"pt-6 pb-5 px-5 flex justify-end items-center",children:e.jsxs("div",{className:"flex flex-row-reverse gap-2 w-full justify-start relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(A,{onClick:ee,variant:"outline",className:"font-semibold shadow-sm px-8 relative z-10 border-primary text-primary hover:bg-primary hover:text-primary-foreground",size:"sm",children:l}),C&&O==="card"?e.jsx(fr,{}):null]}),Y?e.jsxs(A,{onClick:()=>$(!1),variant:"outline",size:"sm",className:"shrink-0 transition-all border-lime-200 bg-lime-50 text-lime-700 hover:bg-amber-100 hover:text-amber-800 hover:border-amber-300 group/remind",title:"Cancel reminder",children:[e.jsx(Pr,{className:"w-3.5 h-3.5 mr-2 group-hover/remind:hidden"}),e.jsx(ot,{className:"w-3.5 h-3.5 mr-2 hidden group-hover/remind:block"}),e.jsxs("span",{className:"text-xs font-medium",children:["Reminder: ",H]})]}):e.jsx(A,{onClick:()=>R(!0),variant:"outline",size:"sm",className:"shrink-0 w-9 p-0 transition-colors hover:border-primary/50 hover:bg-primary/5 hover:text-primary",title:"Remind me later",children:e.jsx(Ft,{className:"w-4 h-4"})})]})})]}),e.jsx(Ce,{open:u,onOpenChange:p,children:e.jsx(Ne,{className:"max-w-2xl",children:e.jsx(wa,{name:t,request:r,requestSummary:s,avatarUrl:o,relationshipType:n,connectionLabel:i,endDate:d,primaryLabel:l,onPrimaryAction:pe,onRemindAction:ie,confettiActive:C&&O==="dialog"})})}),e.jsx(To,{open:x,onOpenChange:g,contactName:t,messages:v,composer:f,onComposerChange:w,onSend:S=>{xe(S),w("")}}),e.jsx(ya,{open:V,onOpenChange:R,selection:H,onSelectionChange:G,reminderActive:Y,onSet:()=>{$(!0),R(!1)},onCancelReminder:()=>{$(!1),R(!1)}}),e.jsx(pa,{open:b,onOpenChange:y,requestorName:t,requestorAvatarUrl:o||void 0,requestSummary:s,requestText:r,onSubmit:()=>j()})]})},ma=t=>e.jsx(Ue,{name:t.name,request:t.request,requestSummary:t.requestSummary,relationshipType:"through-contact",connectionLabel:t.subtitle||"Connected",primaryActionLabel:t.primaryCTA||"Help",endDate:t.endDate,onClear:t.onClear,avatarUrl:null}),xa=({name:t,request:r,avatarUrl:s,requestSummary:o,endDate:n,onClear:i})=>{const l=t.split(" ")[0]??t;return e.jsx(Ue,{name:t,request:r,requestSummary:o,avatarUrl:s,relationshipType:"direct",connectionLabel:"Directly Connected",primaryActionLabel:`Help ${l}`,endDate:n,onClear:i})},ga=({name:t,request:r,requestSummary:s,connectedBy:o,endDate:n,onClear:i,avatarUrl:l})=>{const d=o??"your trusted network",c=t.split(" ")[0]??t;return e.jsx(Ue,{name:t,request:r,requestSummary:s,avatarUrl:l,relationshipType:"through-contact",connectionLabel:`Connected by ${d}`,primaryActionLabel:`Help ${c}`,endDate:n,onClear:i})},ba=({name:t,request:r,requestSummary:s,connectionReason:o,profession:n,level:i,endDate:l,onClear:d,avatarUrl:c})=>{const u=t.split(" ")[0]??t,p=o?o.toLowerCase().startsWith("you share similar skills")?o:`You share similar skills: ${o}`:"Community request";return e.jsx(Ue,{name:t,request:r,requestSummary:s,avatarUrl:c,relationshipType:"skills-match",connectionLabel:p,primaryActionLabel:`Help ${u}`,endDate:l,onClear:d})},jt=["bg-primary","bg-amber-400","bg-emerald-400","bg-rose-400","bg-sky-400","bg-purple-400"],va=["4 hours","12 hours","1 day","3 days","1 week","2 weeks"],fr=()=>{const t=a.useMemo(()=>Array.from({length:24}).map((o,n)=>{const i=Math.PI/1.2,d=Math.PI/2+(Math.random()-.5)*i,c=60+Math.random()*30,u=1+Math.random()*2;return{angle:d,distance:c,rotation:Math.random()*360,color:jt[n%jt.length],size:u}}),[]),[r,s]=a.useState(!1);return a.useEffect(()=>{const o=requestAnimationFrame(()=>s(!0));return()=>cancelAnimationFrame(o)},[]),e.jsx("div",{className:"pointer-events-none absolute inset-0 z-0 flex items-center justify-center",children:t.map((o,n)=>{const i=Math.cos(o.angle)*o.distance,l=-Math.sin(o.angle)*o.distance;return e.jsx("span",{className:`absolute rounded-full ${o.color}`,style:{height:`${o.size*4}px`,width:`${o.size*1.5}px`,transform:r?`translate(${i}px, ${l}px) rotate(${o.rotation}deg)`:"translate(0px, 0px)",opacity:r?0:1,transition:"transform 600ms ease-out, opacity 600ms ease-out"}},`${o.color}-${n}`)})})},ya=({open:t,onOpenChange:r,selection:s,onSelectionChange:o,reminderActive:n,onSet:i,onCancelReminder:l})=>e.jsx(Ce,{open:t,onOpenChange:r,children:e.jsxs(Ne,{className:"max-w-sm",children:[e.jsxs(_e,{children:[e.jsx(Re,{children:n?"Reminder scheduled":"Schedule a reminder"}),e.jsx(Ot,{children:n?"You're set to get a nudge. Adjust the timing below or cancel the reminder.":"Pick when you want to be nudged again."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Remind me in"}),e.jsxs(cr,{value:s,onValueChange:o,children:[e.jsx(bt,{className:"w-full",children:e.jsx(dr,{})}),e.jsx(vt,{children:va.map(d=>e.jsx(Z,{value:d,children:d},d))})]})]}),n?e.jsxs(Xe,{className:"flex flex-col gap-2 sm:flex-row sm:gap-2",children:[e.jsx(A,{variant:"destructive",className:"w-full sm:flex-1",onClick:l,children:"Cancel reminder"}),e.jsx(A,{className:"w-full sm:flex-1",onClick:i,children:"Update reminder"})]}):e.jsxs(Xe,{className:"gap-2 sm:gap-0",children:[e.jsx(A,{variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),e.jsx(A,{onClick:i,children:"Set reminder"})]})]})}),wa=({name:t,request:r,requestSummary:s,avatarUrl:o,relationshipType:n,connectionLabel:i,endDate:l,primaryLabel:d,onPrimaryAction:c,onRemindAction:u,confettiActive:p=!1})=>e.jsx(Ht,{className:"border-none shadow-none",children:e.jsxs($t,{className:"space-y-4 p-3",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(ye,{className:"h-12 w-12 border border-border mt-0.5",children:[o?e.jsx(we,{src:o,alt:t,className:"object-cover"}):null,e.jsx(je,{children:t.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("p",{className:"text-lg font-semibold",children:t}),i?e.jsxs("p",{className:"text-xs text-muted-foreground flex items-start gap-1",children:[n==="direct"&&e.jsx(Ut,{className:"h-3 w-3 shrink-0 mt-0.5"}),n==="through-contact"&&e.jsx(dt,{className:"h-3 w-3 shrink-0 mt-0.5"}),n==="skills-match"&&e.jsx(Lt,{className:"h-3 w-3 shrink-0 mt-0.5"}),i]}):null]})]}),e.jsxs("div",{className:"rounded-md bg-muted/50 p-4 space-y-2",children:[s?e.jsx("p",{className:"font-bold text-foreground leading-relaxed mb-0",children:s}):null,e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground pb-0.5",children:[e.jsx(Bt,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:hr(l)})]}),e.jsx("p",{className:"text-sm text-foreground leading-relaxed max-w-prose",children:r})]}),e.jsx("div",{className:"pt-4 flex justify-end items-center",children:e.jsxs("div",{className:"flex gap-2 justify-end relative",children:[e.jsx(A,{onClick:u,variant:"outline",size:"sm",className:"shrink-0 w-9 p-0 transition-colors hover:border-primary/50 hover:bg-primary/5 hover:text-primary",title:"Remind me later",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{onClick:c,className:"font-semibold shadow-sm px-8 relative z-10",size:"sm",autoFocus:!0,children:d}),p?e.jsx(fr,{}):null]})]})})]})});export{Aa as A,To as C,pa as F,Da as H,ya as R,Ia as S,gn as T,Ma as a,Pa as b,cr as c,bt as d,dr as e,vt as f,Z as g,on as h,Wt as i,fa as j,hr as k,He as l,Kn as m,Gn as n,Yn as o,cs as p,Ea as q,zt as r,Ts as s};
