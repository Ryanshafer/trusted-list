import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.DMVOjPfi.js";import{C as L,c as I,B as g}from"./index.RFwVRHya.js";import{L as x,I as d}from"./label.CBhttR1o.js";import{m as n}from"./proxy.DHa0waEA.js";import{A as C}from"./index.CC9iHAyp.js";import{A as E}from"./arrow-right.LIAXjunz.js";import{L as R}from"./loader-circle.Baf9CbGe.js";import"./createLucideIcon.xD6jD0Ge.js";import"./index.D66uaMUf.js";import"./index.1ixxEbKp.js";const y=({name:r})=>e.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 rounded-full bg-[#00A3AD]/10 px-4 py-2 text-sm font-bold text-[#00A3AD] mb-6",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#00A3AD] opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#00A3AD]"})]}),r," invited you to join The Trusted List"]}),G=()=>{const r={firstName:"",lastName:"",email:"",linkedin:""},v={firstName:"Jordan",lastName:"Rivera",email:"jordan.rivera@acme.com",linkedin:"https://linkedin.com/in/jordanrivera"},[t,f]=s.useState(null),[J,p]=s.useState(!0),[w,c]=s.useState(!1),[N,j]=s.useState(!1),[A,b]=s.useState(!1),[l,u]=s.useState(r);s.useEffect(()=>{const a=new URLSearchParams(window.location.search),i=a.get("ref"),m=a.get("first_name")||a.get("firstName"),S=a.get("last_name")||a.get("lastName"),h=a.get("name")||a.get("referrer_name");if(i&&(m||h)){const D=m||h?.split(" ")[0]||"",F=S||h?.split(" ").slice(1).join(" ")||"";f({firstName:D,lastName:F,id:i}),p(!1),c(!0),u(v)}},[]),s.useEffect(()=>{const a=()=>{f(null),p(!0),c(!0),b(!1),u(r)};return typeof window<"u"&&(window.addEventListener("open-waitlist",a),window.location.hash==="#waitlist"&&a()),()=>{typeof window<"u"&&window.removeEventListener("open-waitlist",a)}},[]);const k=async a=>{a.preventDefault(),j(!0),await new Promise(i=>setTimeout(i,1500)),console.log("Form submitted",{referrer:t,formData:l,timestamp:new Date().toISOString()}),j(!1),b(!0)},o=a=>i=>{u(m=>({...m,[a]:i.target.value}))};return A?e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center p-8 bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 text-center min-h-[400px]",children:[e.jsx("div",{className:"h-16 w-16 bg-[#00A3AD]/10 rounded-full flex items-center justify-center mb-6",children:e.jsx(L,{className:"h-8 w-8 text-[#00A3AD]"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Request Received"}),e.jsx("p",{className:"text-slate-500 max-w-xs mx-auto",children:"We’ll review your details and get back to you within a few days."})]}):e.jsx("div",{className:I("relative",!w&&"lg:mt-20"),id:"join-waitlist",children:e.jsx(n.div,{layout:!0,transition:{layout:{type:"spring",bounce:.2,duration:.6}},className:"bg-white/10 backdrop-blur-sm rounded-3xl shadow-2xl shadow-[#00A3AD]/10 border border-white/50 p-8 md:p-10 overflow-hidden",children:e.jsx(C,{mode:"popLayout",initial:!1,children:w?e.jsxs(n.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.4},className:"space-y-6 flex flex-col",children:[t&&e.jsx(y,{name:`${t.firstName} ${t.lastName}`.trim()}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t?`${t.firstName} vouched for you.`:"Join the waitlist"}),e.jsx("p",{className:"text-slate-500",children:t?"Your invitation is waiting — we just need to confirm a few details.":"We’ll let you know when your invitation is ready."})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Full Name"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(d,{id:"firstName",required:!0,placeholder:"First name",className:"h-12 rounded-xl bg-white/50",value:l.firstName,onChange:o("firstName")}),e.jsx(d,{id:"lastName",required:!0,placeholder:"Last name",className:"h-12 rounded-xl bg-white/50",value:l.lastName,onChange:o("lastName")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",required:!0,placeholder:"jane@company.com",className:"h-12 rounded-xl bg-white/50",value:l.email,onChange:o("email")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"linkedin",children:"LinkedIn URL"}),e.jsx(d,{id:"linkedin",required:!0,placeholder:"linkedin.com/in/janedoe",className:"h-12 rounded-xl bg-white/50",value:l.linkedin,onChange:o("linkedin")})]}),e.jsx(g,{type:"submit",disabled:N,className:"w-full h-12 text-base font-bold bg-[#00A3AD] hover:bg-[#008A92] text-white rounded-xl shadow-lg shadow-[#00A3AD]/25 mt-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):t?"Join the list":"Add my name"})]})]},"expanded"):e.jsxs(n.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex flex-col",children:[t&&e.jsx(y,{name:`${t.firstName} ${t.lastName}`.trim()}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t?`${t.firstName} vouched for you.`:"Don’t have an invite?"}),e.jsx("p",{className:"text-slate-500",children:t?"Your invitation is waiting — we just need to confirm `a few details.":e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"block",children:"If you know a member, ask them for an invite."}),e.jsx("span",{className:"mt-3 block",children:"We grow by invitation to protect trust. Join the waitlist and we’ll let you in when space opens up."})]})})]}),e.jsx(g,{type:"button",onClick:()=>c(!0),className:"w-full h-12 text-base font-bold bg-slate-900 hover:bg-slate-800 text-white rounded-xl",children:t?"Join the list":e.jsxs(e.Fragment,{children:["Join the waitlist ",e.jsx(E,{className:"ml-2 h-4 w-4"})]})})]},"collapsed")})})})};export{G as JoinForm};
